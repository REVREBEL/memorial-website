import{j as b}from"./jsx-runtime.D_zvdyIk.js";import{r as H}from"./index.0yr9KlQE.js";import{c as He,u as Le,a as pt,b as kt,d as Mt,e as at,P as ke,f as Ie,g as cr,h as dr,R as fr,i as ur,j as hr,F as mr,D as pr,k as gr,l as Be,m as vr,n as xr,C as yr,L as me,I as Ue,B as ge,T as br,o as wr,p as Ar,q as Nr,M as gt,r as jr,H as vt}from"./index.CNFNJXdJ.js";import{b as Pe}from"./base-url.BuhEC7Hq.js";import"./index.ViApDAiE.js";/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xt=He("calendar",Cr);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yt=He("loader-circle",kr);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Er=He("tag",Mr);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bt=He("upload",_r);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ke=He("x",Fr);function Sr(g,x){return H.useReducer((N,a)=>x[N][a]??N,g)}var $e=g=>{const{present:x,children:N}=g,a=Ur(x),e=typeof N=="function"?N({present:a.isPresent}):H.Children.only(N),t=Le(a.ref,Rr(e));return typeof N=="function"||a.isPresent?H.cloneElement(e,{ref:t}):null};$e.displayName="Presence";function Ur(g){const[x,N]=H.useState(),a=H.useRef(null),e=H.useRef(g),t=H.useRef("none"),d=g?"mounted":"unmounted",[s,p]=Sr(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect(()=>{const y=qe(a.current);t.current=s==="mounted"?y:"none"},[s]),pt(()=>{const y=a.current,r=e.current;if(r!==g){const n=t.current,l=qe(y);g?p("MOUNT"):l==="none"||y?.display==="none"?p("UNMOUNT"):p(r&&n!==l?"ANIMATION_OUT":"UNMOUNT"),e.current=g}},[g,p]),pt(()=>{if(x){let y;const r=x.ownerDocument.defaultView??window,o=l=>{const E=qe(a.current).includes(l.animationName);if(l.target===x&&E&&(p("ANIMATION_END"),!e.current)){const U=x.style.animationFillMode;x.style.animationFillMode="forwards",y=r.setTimeout(()=>{x.style.animationFillMode==="forwards"&&(x.style.animationFillMode=U)})}},n=l=>{l.target===x&&(t.current=qe(a.current))};return x.addEventListener("animationstart",n),x.addEventListener("animationcancel",o),x.addEventListener("animationend",o),()=>{r.clearTimeout(y),x.removeEventListener("animationstart",n),x.removeEventListener("animationcancel",o),x.removeEventListener("animationend",o)}}else p("ANIMATION_END")},[x,p]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:H.useCallback(y=>{a.current=y?getComputedStyle(y):null,N(y)},[])}}function qe(g){return g?.animationName||"none"}function Rr(g){let x=Object.getOwnPropertyDescriptor(g.props,"ref")?.get,N=x&&"isReactWarning"in x&&x.isReactWarning;return N?g.ref:(x=Object.getOwnPropertyDescriptor(g,"ref")?.get,N=x&&"isReactWarning"in x&&x.isReactWarning,N?g.props.ref:g.props.ref||g.ref)}var et="Dialog",[Et,bn]=Mt(et),[Ir,ve]=Et(et),_t=g=>{const{__scopeDialog:x,children:N,open:a,defaultOpen:e,onOpenChange:t,modal:d=!0}=g,s=H.useRef(null),p=H.useRef(null),[y,r]=kt({prop:a,defaultProp:e??!1,onChange:t,caller:et});return b.jsx(Ir,{scope:x,triggerRef:s,contentRef:p,contentId:at(),titleId:at(),descriptionId:at(),open:y,onOpenChange:r,onOpenToggle:H.useCallback(()=>r(o=>!o),[r]),modal:d,children:N})};_t.displayName=et;var Ft="DialogTrigger",Dr=H.forwardRef((g,x)=>{const{__scopeDialog:N,...a}=g,e=ve(Ft,N),t=Le(x,e.triggerRef);return b.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":ct(e.open),...a,ref:t,onClick:Ie(g.onClick,e.onOpenToggle)})});Dr.displayName=Ft;var it="DialogPortal",[Tr,St]=Et(it,{forceMount:void 0}),Ut=g=>{const{__scopeDialog:x,forceMount:N,children:a,container:e}=g,t=ve(it,x);return b.jsx(Tr,{scope:x,forceMount:N,children:H.Children.map(a,d=>b.jsx($e,{present:N||t.open,children:b.jsx(cr,{asChild:!0,container:e,children:d})}))})};Ut.displayName=it;var Ve="DialogOverlay",Rt=H.forwardRef((g,x)=>{const N=St(Ve,g.__scopeDialog),{forceMount:a=N.forceMount,...e}=g,t=ve(Ve,g.__scopeDialog);return t.modal?b.jsx($e,{present:a||t.open,children:b.jsx(Or,{...e,ref:x})}):null});Rt.displayName=Ve;var Pr=ur("DialogOverlay.RemoveScroll"),Or=H.forwardRef((g,x)=>{const{__scopeDialog:N,...a}=g,e=ve(Ve,N);return b.jsx(fr,{as:Pr,allowPinchZoom:!0,shards:[e.contentRef],children:b.jsx(ke.div,{"data-state":ct(e.open),...a,ref:x,style:{pointerEvents:"auto",...a.style}})})}),De="DialogContent",It=H.forwardRef((g,x)=>{const N=St(De,g.__scopeDialog),{forceMount:a=N.forceMount,...e}=g,t=ve(De,g.__scopeDialog);return b.jsx($e,{present:a||t.open,children:t.modal?b.jsx(Lr,{...e,ref:x}):b.jsx(Wr,{...e,ref:x})})});It.displayName=De;var Lr=H.forwardRef((g,x)=>{const N=ve(De,g.__scopeDialog),a=H.useRef(null),e=Le(x,N.contentRef,a);return H.useEffect(()=>{const t=a.current;if(t)return dr(t)},[]),b.jsx(Dt,{...g,ref:e,trapFocus:N.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(g.onCloseAutoFocus,t=>{t.preventDefault(),N.triggerRef.current?.focus()}),onPointerDownOutside:Ie(g.onPointerDownOutside,t=>{const d=t.detail.originalEvent,s=d.button===0&&d.ctrlKey===!0;(d.button===2||s)&&t.preventDefault()}),onFocusOutside:Ie(g.onFocusOutside,t=>t.preventDefault())})}),Wr=H.forwardRef((g,x)=>{const N=ve(De,g.__scopeDialog),a=H.useRef(!1),e=H.useRef(!1);return b.jsx(Dt,{...g,ref:x,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{g.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||N.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,e.current=!1},onInteractOutside:t=>{g.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,t.detail.originalEvent.type==="pointerdown"&&(e.current=!0));const d=t.target;N.triggerRef.current?.contains(d)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&e.current&&t.preventDefault()}})}),Dt=H.forwardRef((g,x)=>{const{__scopeDialog:N,trapFocus:a,onOpenAutoFocus:e,onCloseAutoFocus:t,...d}=g,s=ve(De,N),p=H.useRef(null),y=Le(x,p);return hr(),b.jsxs(b.Fragment,{children:[b.jsx(mr,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:e,onUnmountAutoFocus:t,children:b.jsx(pr,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":ct(s.open),...d,ref:y,onDismiss:()=>s.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(Hr,{titleId:s.titleId}),b.jsx($r,{contentRef:p,descriptionId:s.descriptionId})]})]})}),lt="DialogTitle",Tt=H.forwardRef((g,x)=>{const{__scopeDialog:N,...a}=g,e=ve(lt,N);return b.jsx(ke.h2,{id:e.titleId,...a,ref:x})});Tt.displayName=lt;var Pt="DialogDescription",zr=H.forwardRef((g,x)=>{const{__scopeDialog:N,...a}=g,e=ve(Pt,N);return b.jsx(ke.p,{id:e.descriptionId,...a,ref:x})});zr.displayName=Pt;var Ot="DialogClose",Lt=H.forwardRef((g,x)=>{const{__scopeDialog:N,...a}=g,e=ve(Ot,N);return b.jsx(ke.button,{type:"button",...a,ref:x,onClick:Ie(g.onClick,()=>e.onOpenChange(!1))})});Lt.displayName=Ot;function ct(g){return g?"open":"closed"}var Wt="DialogTitleWarning",[wn,zt]=gr(Wt,{contentName:De,titleName:lt,docsSlug:"dialog"}),Hr=({titleId:g})=>{const x=zt(Wt),N=`\`${x.contentName}\` requires a \`${x.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${x.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${x.docsSlug}`;return H.useEffect(()=>{g&&(document.getElementById(g)||console.error(N))},[N,g]),null},Br="DialogDescriptionWarning",$r=({contentRef:g,descriptionId:x})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zt(Br).contentName}}.`;return H.useEffect(()=>{const e=g.current?.getAttribute("aria-describedby");x&&e&&(document.getElementById(x)||console.warn(a))},[a,g,x]),null},Qr=_t,qr=Ut,Gr=Rt,Kr=It,Vr=Tt,Yr=Lt;function wt({...g}){return b.jsx(Qr,{"data-slot":"dialog",...g})}function Zr({...g}){return b.jsx(qr,{"data-slot":"dialog-portal",...g})}function Xr({className:g,...x}){return b.jsx(Gr,{"data-slot":"dialog-overlay",className:Be("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",g),...x})}function At({className:g,children:x,showCloseButton:N=!0,...a}){return b.jsxs(Zr,{"data-slot":"dialog-portal",children:[b.jsx(Xr,{}),b.jsxs(Kr,{"data-slot":"dialog-content",className:Be("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",g),...a,children:[x,N&&b.jsxs(Yr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[b.jsx(Ke,{}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Nt({className:g,...x}){return b.jsx("div",{"data-slot":"dialog-header",className:Be("flex flex-col gap-2 text-center sm:text-left",g),...x})}function jt({className:g,...x}){return b.jsx(Vr,{"data-slot":"dialog-title",className:Be("text-lg leading-none font-semibold",g),...x})}var tt="Checkbox",[Jr,An]=Mt(tt),[en,dt]=Jr(tt);function tn(g){const{__scopeCheckbox:x,checked:N,children:a,defaultChecked:e,disabled:t,form:d,name:s,onCheckedChange:p,required:y,value:r="on",internal_do_not_use_render:o}=g,[n,l]=kt({prop:N,defaultProp:e??!1,onChange:p,caller:tt}),[m,E]=H.useState(null),[U,f]=H.useState(null),R=H.useRef(!1),_=m?!!d||!!m.closest("form"):!0,j={checked:n,disabled:t,setChecked:l,control:m,setControl:E,name:s,form:d,value:r,hasConsumerStoppedPropagationRef:R,required:y,defaultChecked:Ce(e)?!1:e,isFormControl:_,bubbleInput:U,setBubbleInput:f};return b.jsx(en,{scope:x,...j,children:rn(o)?o(j):a})}var Ht="CheckboxTrigger",Bt=H.forwardRef(({__scopeCheckbox:g,onKeyDown:x,onClick:N,...a},e)=>{const{control:t,value:d,disabled:s,checked:p,required:y,setControl:r,setChecked:o,hasConsumerStoppedPropagationRef:n,isFormControl:l,bubbleInput:m}=dt(Ht,g),E=Le(e,r),U=H.useRef(p);return H.useEffect(()=>{const f=t?.form;if(f){const R=()=>o(U.current);return f.addEventListener("reset",R),()=>f.removeEventListener("reset",R)}},[t,o]),b.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Ce(p)?"mixed":p,"aria-required":y,"data-state":Vt(p),"data-disabled":s?"":void 0,disabled:s,value:d,...a,ref:E,onKeyDown:Ie(x,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:Ie(N,f=>{o(R=>Ce(R)?!0:!R),m&&l&&(n.current=f.isPropagationStopped(),n.current||f.stopPropagation())})})});Bt.displayName=Ht;var $t=H.forwardRef((g,x)=>{const{__scopeCheckbox:N,name:a,checked:e,defaultChecked:t,required:d,disabled:s,value:p,onCheckedChange:y,form:r,...o}=g;return b.jsx(tn,{__scopeCheckbox:N,checked:e,defaultChecked:t,disabled:s,required:d,onCheckedChange:y,name:a,form:r,value:p,internal_do_not_use_render:({isFormControl:n})=>b.jsxs(b.Fragment,{children:[b.jsx(Bt,{...o,ref:x,__scopeCheckbox:N}),n&&b.jsx(Kt,{__scopeCheckbox:N})]})})});$t.displayName=tt;var Qt="CheckboxIndicator",qt=H.forwardRef((g,x)=>{const{__scopeCheckbox:N,forceMount:a,...e}=g,t=dt(Qt,N);return b.jsx($e,{present:a||Ce(t.checked)||t.checked===!0,children:b.jsx(ke.span,{"data-state":Vt(t.checked),"data-disabled":t.disabled?"":void 0,...e,ref:x,style:{pointerEvents:"none",...g.style}})})});qt.displayName=Qt;var Gt="CheckboxBubbleInput",Kt=H.forwardRef(({__scopeCheckbox:g,...x},N)=>{const{control:a,hasConsumerStoppedPropagationRef:e,checked:t,defaultChecked:d,required:s,disabled:p,name:y,value:r,form:o,bubbleInput:n,setBubbleInput:l}=dt(Gt,g),m=Le(N,l),E=vr(t),U=xr(a);H.useEffect(()=>{const R=n;if(!R)return;const _=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(_,"checked").set,v=!e.current;if(E!==t&&I){const D=new Event("click",{bubbles:v});R.indeterminate=Ce(t),I.call(R,Ce(t)?!1:t),R.dispatchEvent(D)}},[n,E,t,e]);const f=H.useRef(Ce(t)?!1:t);return b.jsx(ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??f.current,required:s,disabled:p,name:y,value:r,form:o,...x,tabIndex:-1,ref:m,style:{...x.style,...U,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kt.displayName=Gt;function rn(g){return typeof g=="function"}function Ce(g){return g==="indeterminate"}function Vt(g){return Ce(g)?"indeterminate":g?"checked":"unchecked"}function nn({className:g,...x}){return b.jsx($t,{"data-slot":"checkbox",className:Be("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",g),...x,children:b.jsx(qt,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:b.jsx(yr,{className:"size-3.5"})})})}function on(g,x){return x.forEach(function(N){N&&typeof N!="string"&&!Array.isArray(N)&&Object.keys(N).forEach(function(a){if(a!=="default"&&!(a in g)){var e=Object.getOwnPropertyDescriptor(N,a);Object.defineProperty(g,a,e.get?e:{enumerable:!0,get:function(){return N[a]}})}})}),Object.freeze(g)}function Yt(g,x){return new Promise(function(N,a){let e;return an(g).then(function(t){try{return e=t,N(new Blob([x.slice(0,2),e,x.slice(2)],{type:"image/jpeg"}))}catch(d){return a(d)}},a)})}const an=g=>new Promise((x,N)=>{const a=new FileReader;a.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let d=0;if(t.getUint16(d)!==65496)return N("not a valid JPEG");for(d+=2;;){const s=t.getUint16(d);if(s===65498)break;const p=t.getUint16(d+2);if(s===65505&&t.getUint32(d+4)===1165519206){const y=d+10;let r;switch(t.getUint16(y)){case 18761:r=!0;break;case 19789:r=!1;break;default:return N("TIFF header contains invalid endian")}if(t.getUint16(y+2,r)!==42)return N("TIFF header contains invalid version");const o=t.getUint32(y+4,r),n=y+o+2+12*t.getUint16(y+o,r);for(let l=y+o+2;l<n;l+=12)if(t.getUint16(l,r)==274){if(t.getUint16(l+2,r)!==3)return N("Orientation data type is invalid");if(t.getUint32(l+4,r)!==1)return N("Orientation data count is invalid");t.setUint16(l+8,1,r);break}return x(e.slice(d,d+2+p))}d+=2+p}return x(new Blob)}),a.readAsArrayBuffer(g)});var Ye={},sn={get exports(){return Ye},set exports(g){Ye=g}};(function(g){var x,N,a={};sn.exports=a,a.parse=function(e,t){for(var d=a.bin.readUshort,s=a.bin.readUint,p=0,y={},r=new Uint8Array(e),o=r.length-4;s(r,o)!=101010256;)o--;p=o,p+=4;var n=d(r,p+=4);d(r,p+=2);var l=s(r,p+=2),m=s(r,p+=4);p+=4,p=m;for(var E=0;E<n;E++){s(r,p),p+=4,p+=4,p+=4,s(r,p+=4),l=s(r,p+=4);var U=s(r,p+=4),f=d(r,p+=4),R=d(r,p+2),_=d(r,p+4);p+=6;var j=s(r,p+=8);p+=4,p+=f+R+_,a._readLocal(r,j,y,l,U,t)}return y},a._readLocal=function(e,t,d,s,p,y){var r=a.bin.readUshort,o=a.bin.readUint;o(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var l=r(e,t+=8),m=r(e,t+=2);t+=2;var E=a.bin.readUTF8(e,t,l);if(t+=l,t+=m,y)d[E]={size:p,csize:s};else{var U=new Uint8Array(e.buffer,t);if(n==0)d[E]=new Uint8Array(U.buffer.slice(t,t+s));else{if(n!=8)throw"unknown compression method: "+n;var f=new Uint8Array(p);a.inflateRaw(U,f),d[E]=f}}},a.inflateRaw=function(e,t){return a.F.inflate(e,t)},a.inflate=function(e,t){return e[0],e[1],a.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},a.deflate=function(e,t){t==null&&(t={level:6});var d=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[d]=120,s[d+1]=156,d+=2,d=a.F.deflateRaw(e,s,d,t.level);var p=a.adler(e,0,e.length);return s[d+0]=p>>>24&255,s[d+1]=p>>>16&255,s[d+2]=p>>>8&255,s[d+3]=p>>>0&255,new Uint8Array(s.buffer,0,d+4)},a.deflateRaw=function(e,t){t==null&&(t={level:6});var d=new Uint8Array(50+Math.floor(1.1*e.length)),s=a.F.deflateRaw(e,d,s,t.level);return new Uint8Array(d.buffer,0,s)},a.encode=function(e,t){t==null&&(t=!1);var d=0,s=a.bin.writeUint,p=a.bin.writeUshort,y={};for(var r in e){var o=!a._noNeed(r)&&!t,n=e[r],l=a.crc.crc(n,0,n.length);y[r]={cpr:o,usize:n.length,crc:l,file:o?a.deflateRaw(n):n}}for(var r in y)d+=y[r].file.length+30+46+2*a.bin.sizeUTF8(r);d+=22;var m=new Uint8Array(d),E=0,U=[];for(var r in y){var f=y[r];U.push(E),E=a._writeHeader(m,E,r,f,0)}var R=0,_=E;for(var r in y)f=y[r],U.push(E),E=a._writeHeader(m,E,r,f,1,U[R++]);var j=E-_;return s(m,E,101010256),E+=4,p(m,E+=4,R),p(m,E+=2,R),s(m,E+=2,j),s(m,E+=4,_),E+=4,E+=2,m.buffer},a._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},a._writeHeader=function(e,t,d,s,p,y){var r=a.bin.writeUint,o=a.bin.writeUshort,n=s.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,s.cpr?8:0),r(e,t+=2,0),r(e,t+=4,s.crc),r(e,t+=4,n.length),r(e,t+=4,s.usize),o(e,t+=4,a.bin.sizeUTF8(d)),o(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,y),t+=4),t+=a.bin.writeUTF8(e,t,d),p==0&&(e.set(n,t),t+=n.length),t},a.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var d=t,s=0;s<8;s++)1&d?d=3988292384^d>>>1:d>>>=1;e[t]=d}return e}(),update:function(e,t,d,s){for(var p=0;p<s;p++)e=a.crc.table[255&(e^t[d+p])]^e>>>8;return e},crc:function(e,t,d){return 4294967295^a.crc.update(4294967295,e,t,d)}},a.adler=function(e,t,d){for(var s=1,p=0,y=t,r=t+d;y<r;){for(var o=Math.min(y+5552,r);y<o;)p+=s+=e[y++];s%=65521,p%=65521}return p<<16|s},a.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,d){e[t]=255&d,e[t+1]=d>>8&255,e[t+2]=d>>16&255,e[t+3]=d>>24&255},readASCII:function(e,t,d){for(var s="",p=0;p<d;p++)s+=String.fromCharCode(e[t+p]);return s},writeASCII:function(e,t,d){for(var s=0;s<d.length;s++)e[t+s]=d.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,d){for(var s,p="",y=0;y<d;y++)p+="%"+a.bin.pad(e[t+y].toString(16));try{s=decodeURIComponent(p)}catch{return a.bin.readASCII(e,t,d)}return s},writeUTF8:function(e,t,d){for(var s=d.length,p=0,y=0;y<s;y++){var r=d.charCodeAt(y);if((4294967168&r)==0)e[t+p]=r,p++;else if((4294965248&r)==0)e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if((4294901760&r)==0)e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if((4292870144&r)!=0)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,d=0,s=0;s<t;s++){var p=e.charCodeAt(s);if((4294967168&p)==0)d++;else if((4294965248&p)==0)d+=2;else if((4294901760&p)==0)d+=3;else{if((4292870144&p)!=0)throw"e";d+=4}}return d}},a.F={},a.F.deflateRaw=function(e,t,d,s){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],y=a.F.U,r=a.F._goodIndex;a.F._hash;var o=a.F._putsE,n=0,l=d<<3,m=0,E=e.length;if(s==0){for(;n<E;)o(t,l,n+(M=Math.min(65535,E-n))==E?1:0),l=a.F._copyExact(e,n,M,t,l+8),n+=M;return l>>>3}var U=y.lits,f=y.strt,R=y.prev,_=0,j=0,I=0,v=0,D=0,u=0;for(E>2&&(f[u=a.F._hash(e,0)]=0),n=0;n<E;n++){if(D=u,n+1<E-2){u=a.F._hash(e,n+1);var h=n+1&32767;R[h]=f[u],f[u]=h}if(m<=n){(_>14e3||j>26697)&&E-n>100&&(m<n&&(U[_]=n-m,_+=2,m=n),l=a.F._writeBlock(n==E-1||m==E?1:0,U,_,v,e,I,n-I,t,l),_=j=v=0,I=n);var C=0;n<E-2&&(C=a.F._bestMatch(e,n,R,D,Math.min(p[2],E-n),p[3]));var M=C>>>16,k=65535&C;if(C!=0){k=65535&C;var F=r(M=C>>>16,y.of0);y.lhst[257+F]++;var A=r(k,y.df0);y.dhst[A]++,v+=y.exb[F]+y.dxb[A],U[_]=M<<23|n-m,U[_+1]=k<<16|F<<8|A,_+=2,m=n+M}else y.lhst[e[n]]++;j++}}for(I==n&&e.length!=0||(m<n&&(U[_]=n-m,_+=2,m=n),l=a.F._writeBlock(1,U,_,v,e,I,n-I,t,l),_=0,j=0,_=j=v=0,I=n);(7&l)!=0;)l++;return l>>>3},a.F._bestMatch=function(e,t,d,s,p,y){var r=32767&t,o=d[r],n=r-o+32768&32767;if(o==r||s!=a.F._hash(e,t-n))return 0;for(var l=0,m=0,E=Math.min(32767,t);n<=E&&--y!=0&&o!=r;){if(l==0||e[t+l]==e[t+l-n]){var U=a.F._howLong(e,t,n);if(U>l){if(m=n,(l=U)>=p)break;n+2<U&&(U=n+2);for(var f=0,R=0;R<U-2;R++){var _=t-n+R+32768&32767,j=_-d[_]+32768&32767;j>f&&(f=j,o=_)}}}n+=(r=o)-(o=d[r])+32768&32767}return l<<16|m},a.F._howLong=function(e,t,d){if(e[t]!=e[t-d]||e[t+1]!=e[t+1-d]||e[t+2]!=e[t+2-d])return 0;var s=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-d];)t++;return t-s},a.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(e,t,d,s,p,y,r,o,n){var l,m,E,U,f,R,_,j,I,v=a.F.U,D=a.F._putsF,u=a.F._putsE;v.lhst[256]++,m=(l=a.F.getTrees())[0],E=l[1],U=l[2],f=l[3],R=l[4],_=l[5],j=l[6],I=l[7];var h=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),C=s+a.F.contSize(v.fltree,v.lhst)+a.F.contSize(v.fdtree,v.dhst),M=s+a.F.contSize(v.ltree,v.lhst)+a.F.contSize(v.dtree,v.dhst);M+=14+3*_+a.F.contSize(v.itree,v.ihst)+(2*v.ihst[16]+3*v.ihst[17]+7*v.ihst[18]);for(var k=0;k<286;k++)v.lhst[k]=0;for(k=0;k<30;k++)v.dhst[k]=0;for(k=0;k<19;k++)v.ihst[k]=0;var F=h<C&&h<M?0:C<M?1:2;if(D(o,n,e),D(o,n+1,F),n+=3,F==0){for(;(7&n)!=0;)n++;n=a.F._copyExact(p,y,r,o,n)}else{var A,w;if(F==1&&(A=v.fltree,w=v.fdtree),F==2){a.F.makeCodes(v.ltree,m),a.F.revCodes(v.ltree,m),a.F.makeCodes(v.dtree,E),a.F.revCodes(v.dtree,E),a.F.makeCodes(v.itree,U),a.F.revCodes(v.itree,U),A=v.ltree,w=v.dtree,u(o,n,f-257),u(o,n+=5,R-1),u(o,n+=5,_-4),n+=4;for(var i=0;i<_;i++)u(o,n+3*i,v.itree[1+(v.ordr[i]<<1)]);n+=3*_,n=a.F._codeTiny(j,v.itree,o,n),n=a.F._codeTiny(I,v.itree,o,n)}for(var c=y,P=0;P<d;P+=2){for(var S=t[P],O=S>>>23,B=c+(8388607&S);c<B;)n=a.F._writeLit(p[c++],A,o,n);if(O!=0){var W=t[P+1],z=W>>16,L=W>>8&255,T=255&W;u(o,n=a.F._writeLit(257+L,A,o,n),O-v.of0[L]),n+=v.exb[L],D(o,n=a.F._writeLit(T,w,o,n),z-v.df0[T]),n+=v.dxb[T],c+=O}}n=a.F._writeLit(256,A,o,n)}return n},a.F._copyExact=function(e,t,d,s,p){var y=p>>>3;return s[y]=d,s[y+1]=d>>>8,s[y+2]=255-s[y],s[y+3]=255-s[y+1],y+=4,s.set(new Uint8Array(e.buffer,t,d),y),p+(d+4<<3)},a.F.getTrees=function(){for(var e=a.F.U,t=a.F._hufTree(e.lhst,e.ltree,15),d=a.F._hufTree(e.dhst,e.dtree,15),s=[],p=a.F._lenCodes(e.ltree,s),y=[],r=a.F._lenCodes(e.dtree,y),o=0;o<s.length;o+=2)e.ihst[s[o]]++;for(o=0;o<y.length;o+=2)e.ihst[y[o]]++;for(var n=a.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&e.itree[1+(e.ordr[l-1]<<1)]==0;)l--;return[t,d,n,p,r,l,s,y]},a.F.getSecond=function(e){for(var t=[],d=0;d<e.length;d+=2)t.push(e[d+1]);return t},a.F.nonZero=function(e){for(var t="",d=0;d<e.length;d+=2)e[d+1]!=0&&(t+=(d>>1)+",");return t},a.F.contSize=function(e,t){for(var d=0,s=0;s<t.length;s++)d+=t[s]*e[1+(s<<1)];return d},a.F._codeTiny=function(e,t,d,s){for(var p=0;p<e.length;p+=2){var y=e[p],r=e[p+1];s=a.F._writeLit(y,t,d,s);var o=y==16?2:y==17?3:7;y>15&&(a.F._putsE(d,s,r,o),s+=o)}return s},a.F._lenCodes=function(e,t){for(var d=e.length;d!=2&&e[d-1]==0;)d-=2;for(var s=0;s<d;s+=2){var p=e[s+1],y=s+3<d?e[s+3]:-1,r=s+5<d?e[s+5]:-1,o=s==0?-1:e[s-1];if(p==0&&y==p&&r==p){for(var n=s+5;n+2<d&&e[n+2]==p;)n+=2;(l=Math.min(n+1-s>>>1,138))<11?t.push(17,l-3):t.push(18,l-11),s+=2*l-2}else if(p==o&&y==p&&r==p){for(n=s+5;n+2<d&&e[n+2]==p;)n+=2;var l=Math.min(n+1-s>>>1,6);t.push(16,l-3),s+=2*l-2}else t.push(p,0)}return d>>>1},a.F._hufTree=function(e,t,d){var s=[],p=e.length,y=t.length,r=0;for(r=0;r<y;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&s.push({lit:r,f:e[r]});var o=s.length,n=s.slice(0);if(o==0)return 0;if(o==1){var l=s[0].lit;return n=l==0?1:0,t[1+(l<<1)]=1,t[1+(n<<1)]=1,1}s.sort(function(j,I){return j.f-I.f});var m=s[0],E=s[1],U=0,f=1,R=2;for(s[0]={lit:-1,f:m.f+E.f,l:m,r:E,d:0};f!=o-1;)m=U!=f&&(R==o||s[U].f<s[R].f)?s[U++]:s[R++],E=U!=f&&(R==o||s[U].f<s[R].f)?s[U++]:s[R++],s[f++]={lit:-1,f:m.f+E.f,l:m,r:E};var _=a.F.setDepth(s[f-1],0);for(_>d&&(a.F.restrictDepth(n,d,_),_=d),r=0;r<o;r++)t[1+(n[r].lit<<1)]=n[r].d;return _},a.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(a.F.setDepth(e.l,t+1),a.F.setDepth(e.r,t+1))},a.F.restrictDepth=function(e,t,d){var s=0,p=1<<d-t,y=0;for(e.sort(function(o,n){return n.d==o.d?o.f-n.f:n.d-o.d}),s=0;s<e.length&&e[s].d>t;s++){var r=e[s].d;e[s].d=t,y+=p-(1<<d-r)}for(y>>>=d-t;y>0;)(r=e[s].d)<t?(e[s].d++,y-=1<<t-r-1):s++;for(;s>=0;s--)e[s].d==t&&y<0&&(e[s].d--,y++);y!=0&&console.log("debt left")},a.F._goodIndex=function(e,t){var d=0;return t[16|d]<=e&&(d|=16),t[8|d]<=e&&(d|=8),t[4|d]<=e&&(d|=4),t[2|d]<=e&&(d|=2),t[1|d]<=e&&(d|=1),d},a.F._writeLit=function(e,t,d,s){return a.F._putsF(d,s,t[e<<1]),s+t[1+(e<<1)]},a.F.inflate=function(e,t){var d=Uint8Array;if(e[0]==3&&e[1]==0)return t||new d(0);var s=a.F,p=s._bitsF,y=s._bitsE,r=s._decodeTiny,o=s.makeCodes,n=s.codes2map,l=s._get17,m=s.U,E=t==null;E&&(t=new d(e.length>>>2<<3));for(var U,f,R=0,_=0,j=0,I=0,v=0,D=0,u=0,h=0,C=0;R==0;)if(R=p(e,C,1),_=p(e,C+1,2),C+=3,_!=0){if(E&&(t=a.F._check(t,h+(1<<17))),_==1&&(U=m.flmap,f=m.fdmap,D=511,u=31),_==2){j=y(e,C,5)+257,I=y(e,C+5,5)+1,v=y(e,C+10,4)+4,C+=14;for(var M=0;M<38;M+=2)m.itree[M]=0,m.itree[M+1]=0;var k=1;for(M=0;M<v;M++){var F=y(e,C+3*M,3);m.itree[1+(m.ordr[M]<<1)]=F,F>k&&(k=F)}C+=3*v,o(m.itree,k),n(m.itree,k,m.imap),U=m.lmap,f=m.dmap,C=r(m.imap,(1<<k)-1,j+I,e,C,m.ttree);var A=s._copyOut(m.ttree,0,j,m.ltree);D=(1<<A)-1;var w=s._copyOut(m.ttree,j,I,m.dtree);u=(1<<w)-1,o(m.ltree,A),n(m.ltree,A,U),o(m.dtree,w),n(m.dtree,w,f)}for(;;){var i=U[l(e,C)&D];C+=15&i;var c=i>>>4;if(!(c>>>8))t[h++]=c;else{if(c==256)break;var P=h+c-254;if(c>264){var S=m.ldef[c-257];P=h+(S>>>3)+y(e,C,7&S),C+=7&S}var O=f[l(e,C)&u];C+=15&O;var B=O>>>4,W=m.ddef[B],z=(W>>>4)+p(e,C,15&W);for(C+=15&W,E&&(t=a.F._check(t,h+(1<<17)));h<P;)t[h]=t[h++-z],t[h]=t[h++-z],t[h]=t[h++-z],t[h]=t[h++-z];h=P}}}else{(7&C)!=0&&(C+=8-(7&C));var L=4+(C>>>3),T=e[L-4]|e[L-3]<<8;E&&(t=a.F._check(t,h+T)),t.set(new d(e.buffer,e.byteOffset+L,T),h),C=L+T<<3,h+=T}return t.length==h?t:t.slice(0,h)},a.F._check=function(e,t){var d=e.length;if(t<=d)return e;var s=new Uint8Array(Math.max(d<<1,t));return s.set(e,0),s},a.F._decodeTiny=function(e,t,d,s,p,y){for(var r=a.F._bitsE,o=a.F._get17,n=0;n<d;){var l=e[o(s,p)&t];p+=15&l;var m=l>>>4;if(m<=15)y[n]=m,n++;else{var E=0,U=0;m==16?(U=3+r(s,p,2),p+=2,E=y[n-1]):m==17?(U=3+r(s,p,3),p+=3):m==18&&(U=11+r(s,p,7),p+=7);for(var f=n+U;n<f;)y[n]=E,n++}}return p},a.F._copyOut=function(e,t,d,s){for(var p=0,y=0,r=s.length>>>1;y<d;){var o=e[y+t];s[y<<1]=0,s[1+(y<<1)]=o,o>p&&(p=o),y++}for(;y<r;)s[y<<1]=0,s[1+(y<<1)]=0,y++;return p},a.F.makeCodes=function(e,t){for(var d,s,p,y,r=a.F.U,o=e.length,n=r.bl_count,l=0;l<=t;l++)n[l]=0;for(l=1;l<o;l+=2)n[e[l]]++;var m=r.next_code;for(d=0,n[0]=0,s=1;s<=t;s++)d=d+n[s-1]<<1,m[s]=d;for(p=0;p<o;p+=2)(y=e[p+1])!=0&&(e[p]=m[y],m[y]++)},a.F.codes2map=function(e,t,d){for(var s=e.length,p=a.F.U.rev15,y=0;y<s;y+=2)if(e[y+1]!=0)for(var r=y>>1,o=e[y+1],n=r<<4|o,l=t-o,m=e[y]<<l,E=m+(1<<l);m!=E;)d[p[m]>>>15-t]=n,m++},a.F.revCodes=function(e,t){for(var d=a.F.U.rev15,s=15-t,p=0;p<e.length;p+=2){var y=e[p]<<t-e[p+1];e[p]=d[y]>>>s}},a.F._putsE=function(e,t,d){d<<=7&t;var s=t>>>3;e[s]|=d,e[s+1]|=d>>>8},a.F._putsF=function(e,t,d){d<<=7&t;var s=t>>>3;e[s]|=d,e[s+1]|=d>>>8,e[s+2]|=d>>>16},a.F._bitsE=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<d)-1},a.F._bitsF=function(e,t,d){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<d)-1},a.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},a.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},a.F.U=(x=Uint16Array,N=Uint32Array,{next_code:new x(16),bl_count:new x(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new x(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new N(32),flmap:new x(512),fltree:[],fdmap:new x(32),fdtree:[],lmap:new x(32768),ltree:[],ttree:[],dmap:new x(32768),dtree:[],imap:new x(512),itree:[],rev15:new x(32768),lhst:new N(286),dhst:new N(30),ihst:new N(19),lits:new N(15e3),strt:new x(65536),prev:new x(32768)}),function(){for(var e=a.F.U,t=0;t<32768;t++){var d=t;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,e.rev15[t]=(d>>>16|d<<16)>>>17}function s(p,y,r){for(;y--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),a.F.makeCodes(e.fltree,9),a.F.codes2map(e.fltree,9,e.flmap),a.F.revCodes(e.fltree,9),s(e.fdtree,32,5),a.F.makeCodes(e.fdtree,5),a.F.codes2map(e.fdtree,5,e.fdmap),a.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var ln=on({__proto__:null,default:Ye},[Ye]);const pe=function(){var g={nextZero(r,o){for(;r[o]!=0;)o++;return o},readUshort:(r,o)=>r[o]<<8|r[o+1],writeUshort(r,o,n){r[o]=n>>8&255,r[o+1]=255&n},readUint:(r,o)=>16777216*r[o]+(r[o+1]<<16|r[o+2]<<8|r[o+3]),writeUint(r,o,n){r[o]=n>>24&255,r[o+1]=n>>16&255,r[o+2]=n>>8&255,r[o+3]=255&n},readASCII(r,o,n){let l="";for(let m=0;m<n;m++)l+=String.fromCharCode(r[o+m]);return l},writeASCII(r,o,n){for(let l=0;l<n.length;l++)r[o+l]=n.charCodeAt(l)},readBytes(r,o,n){const l=[];for(let m=0;m<n;m++)l.push(r[o+m]);return l},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,o,n){let l,m="";for(let E=0;E<n;E++)m+=`%${g.pad(r[o+E].toString(16))}`;try{l=decodeURIComponent(m)}catch{return g.readASCII(r,o,n)}return l}};function x(r,o,n,l){const m=o*n,E=t(l),U=Math.ceil(o*E/8),f=new Uint8Array(4*m),R=new Uint32Array(f.buffer),{ctype:_}=l,{depth:j}=l,I=g.readUshort;if(_==6){const S=m<<2;if(j==8)for(var v=0;v<S;v+=4)f[v]=r[v],f[v+1]=r[v+1],f[v+2]=r[v+2],f[v+3]=r[v+3];if(j==16)for(v=0;v<S;v++)f[v]=r[v<<1]}else if(_==2){const S=l.tabs.tRNS;if(S==null){if(j==8)for(v=0;v<m;v++){var D=3*v;R[v]=255<<24|r[D+2]<<16|r[D+1]<<8|r[D]}if(j==16)for(v=0;v<m;v++)D=6*v,R[v]=255<<24|r[D+4]<<16|r[D+2]<<8|r[D]}else{var u=S[0];const O=S[1],B=S[2];if(j==8)for(v=0;v<m;v++){var h=v<<2;D=3*v,R[v]=255<<24|r[D+2]<<16|r[D+1]<<8|r[D],r[D]==u&&r[D+1]==O&&r[D+2]==B&&(f[h+3]=0)}if(j==16)for(v=0;v<m;v++)h=v<<2,D=6*v,R[v]=255<<24|r[D+4]<<16|r[D+2]<<8|r[D],I(r,D)==u&&I(r,D+2)==O&&I(r,D+4)==B&&(f[h+3]=0)}}else if(_==3){const S=l.tabs.PLTE,O=l.tabs.tRNS,B=O?O.length:0;if(j==1)for(var C=0;C<n;C++){var M=C*U,k=C*o;for(v=0;v<o;v++){h=k+v<<2;var F=3*(A=r[M+(v>>3)]>>7-((7&v)<<0)&1);f[h]=S[F],f[h+1]=S[F+1],f[h+2]=S[F+2],f[h+3]=A<B?O[A]:255}}if(j==2)for(C=0;C<n;C++)for(M=C*U,k=C*o,v=0;v<o;v++)h=k+v<<2,F=3*(A=r[M+(v>>2)]>>6-((3&v)<<1)&3),f[h]=S[F],f[h+1]=S[F+1],f[h+2]=S[F+2],f[h+3]=A<B?O[A]:255;if(j==4)for(C=0;C<n;C++)for(M=C*U,k=C*o,v=0;v<o;v++)h=k+v<<2,F=3*(A=r[M+(v>>1)]>>4-((1&v)<<2)&15),f[h]=S[F],f[h+1]=S[F+1],f[h+2]=S[F+2],f[h+3]=A<B?O[A]:255;if(j==8)for(v=0;v<m;v++){var A;h=v<<2,F=3*(A=r[v]),f[h]=S[F],f[h+1]=S[F+1],f[h+2]=S[F+2],f[h+3]=A<B?O[A]:255}}else if(_==4){if(j==8)for(v=0;v<m;v++){h=v<<2;var w=r[i=v<<1];f[h]=w,f[h+1]=w,f[h+2]=w,f[h+3]=r[i+1]}if(j==16)for(v=0;v<m;v++){var i;h=v<<2,w=r[i=v<<2],f[h]=w,f[h+1]=w,f[h+2]=w,f[h+3]=r[i+2]}}else if(_==0)for(u=l.tabs.tRNS?l.tabs.tRNS:-1,C=0;C<n;C++){const S=C*U,O=C*o;if(j==1)for(var c=0;c<o;c++){var P=(w=255*(r[S+(c>>>3)]>>>7-(7&c)&1))==255*u?0:255;R[O+c]=P<<24|w<<16|w<<8|w}else if(j==2)for(c=0;c<o;c++)P=(w=85*(r[S+(c>>>2)]>>>6-((3&c)<<1)&3))==85*u?0:255,R[O+c]=P<<24|w<<16|w<<8|w;else if(j==4)for(c=0;c<o;c++)P=(w=17*(r[S+(c>>>1)]>>>4-((1&c)<<2)&15))==17*u?0:255,R[O+c]=P<<24|w<<16|w<<8|w;else if(j==8)for(c=0;c<o;c++)P=(w=r[S+c])==u?0:255,R[O+c]=P<<24|w<<16|w<<8|w;else if(j==16)for(c=0;c<o;c++)w=r[S+(c<<1)],P=I(r,S+(c<<1))==u?0:255,R[O+c]=P<<24|w<<16|w<<8|w}return f}function N(r,o,n,l){const m=t(r),E=Math.ceil(n*m/8),U=new Uint8Array((E+1+r.interlace)*l);return o=r.tabs.CgBI?e(o,U):a(o,U),r.interlace==0?o=d(o,r,0,n,l):r.interlace==1&&(o=function(R,_){const j=_.width,I=_.height,v=t(_),D=v>>3,u=Math.ceil(j*v/8),h=new Uint8Array(I*u);let C=0;const M=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let w=0;for(;w<7;){const c=F[w],P=A[w];let S=0,O=0,B=M[w];for(;B<I;)B+=c,O++;let W=k[w];for(;W<j;)W+=P,S++;const z=Math.ceil(S*v/8);d(R,_,C,S,O);let L=0,T=M[w];for(;T<I;){let $=k[w],Y=C+L*z<<3;for(;$<j;){var i;if(v==1&&(i=(i=R[Y>>3])>>7-(7&Y)&1,h[T*u+($>>3)]|=i<<7-((7&$)<<0)),v==2&&(i=(i=R[Y>>3])>>6-(7&Y)&3,h[T*u+($>>2)]|=i<<6-((3&$)<<1)),v==4&&(i=(i=R[Y>>3])>>4-(7&Y)&15,h[T*u+($>>1)]|=i<<4-((1&$)<<2)),v>=8){const q=T*u+$*D;for(let Q=0;Q<D;Q++)h[q+Q]=R[(Y>>3)+Q]}Y+=v,$+=P}L++,T+=c}S*O!=0&&(C+=O*(1+z)),w+=1}return h}(o,r)),o}function a(r,o){return e(new Uint8Array(r.buffer,2,r.length-6),o)}var e=function(){const r={H:{}};return r.H.N=function(o,n){const l=Uint8Array;let m,E,U=0,f=0,R=0,_=0,j=0,I=0,v=0,D=0,u=0;if(o[0]==3&&o[1]==0)return n||new l(0);const h=r.H,C=h.b,M=h.e,k=h.R,F=h.n,A=h.A,w=h.Z,i=h.m,c=n==null;for(c&&(n=new l(o.length>>>2<<5));U==0;)if(U=C(o,u,1),f=C(o,u+1,2),u+=3,f!=0){if(c&&(n=r.H.W(n,D+(1<<17))),f==1&&(m=i.J,E=i.h,I=511,v=31),f==2){R=M(o,u,5)+257,_=M(o,u+5,5)+1,j=M(o,u+10,4)+4,u+=14;let S=1;for(var P=0;P<38;P+=2)i.Q[P]=0,i.Q[P+1]=0;for(P=0;P<j;P++){const W=M(o,u+3*P,3);i.Q[1+(i.X[P]<<1)]=W,W>S&&(S=W)}u+=3*j,F(i.Q,S),A(i.Q,S,i.u),m=i.w,E=i.d,u=k(i.u,(1<<S)-1,R+_,o,u,i.v);const O=h.V(i.v,0,R,i.C);I=(1<<O)-1;const B=h.V(i.v,R,_,i.D);v=(1<<B)-1,F(i.C,O),A(i.C,O,m),F(i.D,B),A(i.D,B,E)}for(;;){const S=m[w(o,u)&I];u+=15&S;const O=S>>>4;if(!(O>>>8))n[D++]=O;else{if(O==256)break;{let B=D+O-254;if(O>264){const $=i.q[O-257];B=D+($>>>3)+M(o,u,7&$),u+=7&$}const W=E[w(o,u)&v];u+=15&W;const z=W>>>4,L=i.c[z],T=(L>>>4)+C(o,u,15&L);for(u+=15&L;D<B;)n[D]=n[D++-T],n[D]=n[D++-T],n[D]=n[D++-T],n[D]=n[D++-T];D=B}}}}else{(7&u)!=0&&(u+=8-(7&u));const S=4+(u>>>3),O=o[S-4]|o[S-3]<<8;c&&(n=r.H.W(n,D+O)),n.set(new l(o.buffer,o.byteOffset+S,O),D),u=S+O<<3,D+=O}return n.length==D?n:n.slice(0,D)},r.H.W=function(o,n){const l=o.length;if(n<=l)return o;const m=new Uint8Array(l<<1);return m.set(o,0),m},r.H.R=function(o,n,l,m,E,U){const f=r.H.e,R=r.H.Z;let _=0;for(;_<l;){const j=o[R(m,E)&n];E+=15&j;const I=j>>>4;if(I<=15)U[_]=I,_++;else{let v=0,D=0;I==16?(D=3+f(m,E,2),E+=2,v=U[_-1]):I==17?(D=3+f(m,E,3),E+=3):I==18&&(D=11+f(m,E,7),E+=7);const u=_+D;for(;_<u;)U[_]=v,_++}}return E},r.H.V=function(o,n,l,m){let E=0,U=0;const f=m.length>>>1;for(;U<l;){const R=o[U+n];m[U<<1]=0,m[1+(U<<1)]=R,R>E&&(E=R),U++}for(;U<f;)m[U<<1]=0,m[1+(U<<1)]=0,U++;return E},r.H.n=function(o,n){const l=r.H.m,m=o.length;let E,U,f,R;const _=l.j;for(var j=0;j<=n;j++)_[j]=0;for(j=1;j<m;j+=2)_[o[j]]++;const I=l.K;for(E=0,_[0]=0,U=1;U<=n;U++)E=E+_[U-1]<<1,I[U]=E;for(f=0;f<m;f+=2)R=o[f+1],R!=0&&(o[f]=I[R],I[R]++)},r.H.A=function(o,n,l){const m=o.length,E=r.H.m.r;for(let U=0;U<m;U+=2)if(o[U+1]!=0){const f=U>>1,R=o[U+1],_=f<<4|R,j=n-R;let I=o[U]<<j;const v=I+(1<<j);for(;I!=v;)l[E[I]>>>15-n]=_,I++}},r.H.l=function(o,n){const l=r.H.m.r,m=15-n;for(let E=0;E<o.length;E+=2){const U=o[E]<<n-o[E+1];o[E]=l[U]>>>m}},r.H.M=function(o,n,l){l<<=7&n;const m=n>>>3;o[m]|=l,o[m+1]|=l>>>8},r.H.I=function(o,n,l){l<<=7&n;const m=n>>>3;o[m]|=l,o[m+1]|=l>>>8,o[m+2]|=l>>>16},r.H.e=function(o,n,l){return(o[n>>>3]|o[1+(n>>>3)]<<8)>>>(7&n)&(1<<l)-1},r.H.b=function(o,n,l){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)&(1<<l)-1},r.H.Z=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(o,n){return(o[n>>>3]|o[1+(n>>>3)]<<8|o[2+(n>>>3)]<<16|o[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const o=Uint16Array,n=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=r.H.m;for(var n=0;n<32768;n++){let m=n;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,o.r[n]=(m>>>16|m<<16)>>>17}function l(m,E,U){for(;E--!=0;)m.push(0,U)}for(n=0;n<32;n++)o.q[n]=o.S[n]<<3|o.T[n],o.c[n]=o.p[n]<<4|o.z[n];l(o._,144,8),l(o._,112,9),l(o._,24,7),l(o._,8,8),r.H.n(o._,9),r.H.A(o._,9,o.J),r.H.l(o._,9),l(o.$,32,5),r.H.n(o.$,5),r.H.A(o.$,5,o.h),r.H.l(o.$,5),l(o.Q,19,0),l(o.C,286,0),l(o.D,30,0),l(o.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function d(r,o,n,l,m){let E=t(o);const U=Math.ceil(l*E/8);let f,R;E=Math.ceil(E/8);let _=r[n],j=0;if(_>1&&(r[n]=[0,0,1][_-2]),_==3)for(j=E;j<U;j++)r[j+1]=r[j+1]+(r[j+1-E]>>>1)&255;for(let I=0;I<m;I++)if(f=n+I*U,R=f+I+1,_=r[R-1],j=0,_==0)for(;j<U;j++)r[f+j]=r[R+j];else if(_==1){for(;j<E;j++)r[f+j]=r[R+j];for(;j<U;j++)r[f+j]=r[R+j]+r[f+j-E]}else if(_==2)for(;j<U;j++)r[f+j]=r[R+j]+r[f+j-U];else if(_==3){for(;j<E;j++)r[f+j]=r[R+j]+(r[f+j-U]>>>1);for(;j<U;j++)r[f+j]=r[R+j]+(r[f+j-U]+r[f+j-E]>>>1)}else{for(;j<E;j++)r[f+j]=r[R+j]+s(0,r[f+j-U],0);for(;j<U;j++)r[f+j]=r[R+j]+s(r[f+j-E],r[f+j-U],r[f+j-E-U])}return r}function s(r,o,n){const l=r+o-n,m=l-r,E=l-o,U=l-n;return m*m<=E*E&&m*m<=U*U?r:E*E<=U*U?o:n}function p(r,o,n){n.width=g.readUint(r,o),o+=4,n.height=g.readUint(r,o),o+=4,n.depth=r[o],o++,n.ctype=r[o],o++,n.compress=r[o],o++,n.filter=r[o],o++,n.interlace=r[o],o++}function y(r,o,n,l,m,E,U,f,R){const _=Math.min(o,m),j=Math.min(n,E);let I=0,v=0;for(let w=0;w<j;w++)for(let i=0;i<_;i++)if(U>=0&&f>=0?(I=w*o+i<<2,v=(f+w)*m+U+i<<2):(I=(-f+w)*o-U+i<<2,v=w*m+i<<2),R==0)l[v]=r[I],l[v+1]=r[I+1],l[v+2]=r[I+2],l[v+3]=r[I+3];else if(R==1){var D=r[I+3]*.00392156862745098,u=r[I]*D,h=r[I+1]*D,C=r[I+2]*D,M=l[v+3]*(1/255),k=l[v]*M,F=l[v+1]*M,A=l[v+2]*M;const c=1-D,P=D+M*c,S=P==0?0:1/P;l[v+3]=255*P,l[v+0]=(u+k*c)*S,l[v+1]=(h+F*c)*S,l[v+2]=(C+A*c)*S}else if(R==2)D=r[I+3],u=r[I],h=r[I+1],C=r[I+2],M=l[v+3],k=l[v],F=l[v+1],A=l[v+2],D==M&&u==k&&h==F&&C==A?(l[v]=0,l[v+1]=0,l[v+2]=0,l[v+3]=0):(l[v]=u,l[v+1]=h,l[v+2]=C,l[v+3]=D);else if(R==3){if(D=r[I+3],u=r[I],h=r[I+1],C=r[I+2],M=l[v+3],k=l[v],F=l[v+1],A=l[v+2],D==M&&u==k&&h==F&&C==A)continue;if(D<220&&M>20)return!1}return!0}return{decode:function(o){const n=new Uint8Array(o);let l=8;const m=g,E=m.readUshort,U=m.readUint,f={tabs:{},frames:[]},R=new Uint8Array(n.length);let _,j=0,I=0;const v=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(n[D]!=v[D])throw"The input is not a PNG file!";for(;l<n.length;){const w=m.readUint(n,l);l+=4;const i=m.readASCII(n,l,4);if(l+=4,i=="IHDR")p(n,l,f);else if(i=="iCCP"){for(var u=l;n[u]!=0;)u++;m.readASCII(n,l,u-l),n[u+1];const c=n.slice(u+2,l+w);let P=null;try{P=a(c)}catch{P=e(c)}f.tabs[i]=P}else if(i=="CgBI")f.tabs[i]=n.slice(l,l+4);else if(i=="IDAT"){for(D=0;D<w;D++)R[j+D]=n[l+D];j+=w}else if(i=="acTL")f.tabs[i]={num_frames:U(n,l),num_plays:U(n,l+4)},_=new Uint8Array(n.length);else if(i=="fcTL"){I!=0&&((A=f.frames[f.frames.length-1]).data=N(f,_.slice(0,I),A.rect.width,A.rect.height),I=0);const c={x:U(n,l+12),y:U(n,l+16),width:U(n,l+4),height:U(n,l+8)};let P=E(n,l+22);P=E(n,l+20)/(P==0?100:P);const S={rect:c,delay:Math.round(1e3*P),dispose:n[l+24],blend:n[l+25]};f.frames.push(S)}else if(i=="fdAT"){for(D=0;D<w-4;D++)_[I+D]=n[l+D+4];I+=w-4}else if(i=="pHYs")f.tabs[i]=[m.readUint(n,l),m.readUint(n,l+4),n[l+8]];else if(i=="cHRM")for(f.tabs[i]=[],D=0;D<8;D++)f.tabs[i].push(m.readUint(n,l+4*D));else if(i=="tEXt"||i=="zTXt"){f.tabs[i]==null&&(f.tabs[i]={});var h=m.nextZero(n,l),C=m.readASCII(n,l,h-l),M=l+w-h-1;if(i=="tEXt")F=m.readASCII(n,h+1,M);else{var k=a(n.slice(h+2,h+2+M));F=m.readUTF8(k,0,k.length)}f.tabs[i][C]=F}else if(i=="iTXt"){f.tabs[i]==null&&(f.tabs[i]={}),h=0,u=l,h=m.nextZero(n,u),C=m.readASCII(n,u,h-u);const c=n[u=h+1];var F;n[u+1],u+=2,h=m.nextZero(n,u),m.readASCII(n,u,h-u),u=h+1,h=m.nextZero(n,u),m.readUTF8(n,u,h-u),M=w-((u=h+1)-l),c==0?F=m.readUTF8(n,u,M):(k=a(n.slice(u,u+M)),F=m.readUTF8(k,0,k.length)),f.tabs[i][C]=F}else if(i=="PLTE")f.tabs[i]=m.readBytes(n,l,w);else if(i=="hIST"){const c=f.tabs.PLTE.length/3;for(f.tabs[i]=[],D=0;D<c;D++)f.tabs[i].push(E(n,l+2*D))}else if(i=="tRNS")f.ctype==3?f.tabs[i]=m.readBytes(n,l,w):f.ctype==0?f.tabs[i]=E(n,l):f.ctype==2&&(f.tabs[i]=[E(n,l),E(n,l+2),E(n,l+4)]);else if(i=="gAMA")f.tabs[i]=m.readUint(n,l)/1e5;else if(i=="sRGB")f.tabs[i]=n[l];else if(i=="bKGD")f.ctype==0||f.ctype==4?f.tabs[i]=[E(n,l)]:f.ctype==2||f.ctype==6?f.tabs[i]=[E(n,l),E(n,l+2),E(n,l+4)]:f.ctype==3&&(f.tabs[i]=n[l]);else if(i=="IEND")break;l+=w,m.readUint(n,l),l+=4}var A;return I!=0&&((A=f.frames[f.frames.length-1]).data=N(f,_.slice(0,I),A.rect.width,A.rect.height)),f.data=N(f,R,f.width,f.height),delete f.compress,delete f.interlace,delete f.filter,f},toRGBA8:function(o){const n=o.width,l=o.height;if(o.tabs.acTL==null)return[x(o.data,n,l,o).buffer];const m=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const E=n*l*4,U=new Uint8Array(E),f=new Uint8Array(E),R=new Uint8Array(E);for(let j=0;j<o.frames.length;j++){const I=o.frames[j],v=I.rect.x,D=I.rect.y,u=I.rect.width,h=I.rect.height,C=x(I.data,u,h,o);if(j!=0)for(var _=0;_<E;_++)R[_]=U[_];if(I.blend==0?y(C,u,h,U,n,l,v,D,0):I.blend==1&&y(C,u,h,U,n,l,v,D,1),m.push(U.buffer.slice(0)),I.dispose!=0){if(I.dispose==1)y(f,u,h,U,n,l,v,D,0);else if(I.dispose==2)for(_=0;_<E;_++)U[_]=R[_]}}return m},_paeth:s,_copyTile:y,_bin:g}}();(function(){const{_copyTile:g}=pe,{_bin:x}=pe,N=pe._paeth;var a={table:function(){const u=new Uint32Array(256);for(let h=0;h<256;h++){let C=h;for(let M=0;M<8;M++)1&C?C=3988292384^C>>>1:C>>>=1;u[h]=C}return u}(),update(u,h,C,M){for(let k=0;k<M;k++)u=a.table[255&(u^h[C+k])]^u>>>8;return u},crc:(u,h,C)=>4294967295^a.update(4294967295,u,h,C)};function e(u,h,C,M){h[C]+=u[0]*M>>4,h[C+1]+=u[1]*M>>4,h[C+2]+=u[2]*M>>4,h[C+3]+=u[3]*M>>4}function t(u){return Math.max(0,Math.min(255,u))}function d(u,h){const C=u[0]-h[0],M=u[1]-h[1],k=u[2]-h[2],F=u[3]-h[3];return C*C+M*M+k*k+F*F}function s(u,h,C,M,k,F,A){A==null&&(A=1);const w=M.length,i=[];for(var c=0;c<w;c++){const T=M[c];i.push([T>>>0&255,T>>>8&255,T>>>16&255,T>>>24&255])}for(c=0;c<w;c++){let T=4294967295;for(var P=0,S=0;S<w;S++){var O=d(i[c],i[S]);S!=c&&O<T&&(T=O,P=S)}}const B=new Uint32Array(k.buffer),W=new Int16Array(h*C*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(c=0;c<z.length;c++)z[c]=255*((z[c]+.5)/16-.5);for(let T=0;T<C;T++)for(let $=0;$<h;$++){var L;c=4*(T*h+$),A!=2?L=[t(u[c]+W[c]),t(u[c+1]+W[c+1]),t(u[c+2]+W[c+2]),t(u[c+3]+W[c+3])]:(O=z[4*(3&T)+(3&$)],L=[t(u[c]+O),t(u[c+1]+O),t(u[c+2]+O),t(u[c+3]+O)]),P=0;let Y=16777215;for(S=0;S<w;S++){const G=d(L,i[S]);G<Y&&(Y=G,P=S)}const q=i[P],Q=[L[0]-q[0],L[1]-q[1],L[2]-q[2],L[3]-q[3]];A==1&&($!=h-1&&e(Q,W,c+4,7),T!=C-1&&($!=0&&e(Q,W,c+4*h-4,3),e(Q,W,c+4*h,5),$!=h-1&&e(Q,W,c+4*h+4,1))),F[c>>2]=P,B[c>>2]=M[P]}}function p(u,h,C,M,k){k==null&&(k={});const{crc:F}=a,A=x.writeUint,w=x.writeUshort,i=x.writeASCII;let c=8;const P=u.frames.length>1;let S,O=!1,B=33+(P?20:0);if(k.sRGB!=null&&(B+=13),k.pHYs!=null&&(B+=21),k.iCCP!=null&&(S=pako.deflate(k.iCCP),B+=21+S.length+4),u.ctype==3){for(var W=u.plte.length,z=0;z<W;z++)u.plte[z]>>>24!=255&&(O=!0);B+=8+3*W+4+(O?8+1*W+4:0)}for(var L=0;L<u.frames.length;L++)P&&(B+=38),B+=(q=u.frames[L]).cimg.length+12,L!=0&&(B+=4);B+=12;const T=new Uint8Array(B),$=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)T[z]=$[z];if(A(T,c,13),c+=4,i(T,c,"IHDR"),c+=4,A(T,c,h),c+=4,A(T,c,C),c+=4,T[c]=u.depth,c++,T[c]=u.ctype,c++,T[c]=0,c++,T[c]=0,c++,T[c]=0,c++,A(T,c,F(T,c-17,17)),c+=4,k.sRGB!=null&&(A(T,c,1),c+=4,i(T,c,"sRGB"),c+=4,T[c]=k.sRGB,c++,A(T,c,F(T,c-5,5)),c+=4),k.iCCP!=null){const Q=13+S.length;A(T,c,Q),c+=4,i(T,c,"iCCP"),c+=4,i(T,c,"ICC profile"),c+=11,c+=2,T.set(S,c),c+=S.length,A(T,c,F(T,c-(Q+4),Q+4)),c+=4}if(k.pHYs!=null&&(A(T,c,9),c+=4,i(T,c,"pHYs"),c+=4,A(T,c,k.pHYs[0]),c+=4,A(T,c,k.pHYs[1]),c+=4,T[c]=k.pHYs[2],c++,A(T,c,F(T,c-13,13)),c+=4),P&&(A(T,c,8),c+=4,i(T,c,"acTL"),c+=4,A(T,c,u.frames.length),c+=4,A(T,c,k.loop!=null?k.loop:0),c+=4,A(T,c,F(T,c-12,12)),c+=4),u.ctype==3){for(A(T,c,3*(W=u.plte.length)),c+=4,i(T,c,"PLTE"),c+=4,z=0;z<W;z++){const Q=3*z,G=u.plte[z],J=255&G,re=G>>>8&255,Me=G>>>16&255;T[c+Q+0]=J,T[c+Q+1]=re,T[c+Q+2]=Me}if(c+=3*W,A(T,c,F(T,c-3*W-4,3*W+4)),c+=4,O){for(A(T,c,W),c+=4,i(T,c,"tRNS"),c+=4,z=0;z<W;z++)T[c+z]=u.plte[z]>>>24&255;c+=W,A(T,c,F(T,c-W-4,W+4)),c+=4}}let Y=0;for(L=0;L<u.frames.length;L++){var q=u.frames[L];P&&(A(T,c,26),c+=4,i(T,c,"fcTL"),c+=4,A(T,c,Y++),c+=4,A(T,c,q.rect.width),c+=4,A(T,c,q.rect.height),c+=4,A(T,c,q.rect.x),c+=4,A(T,c,q.rect.y),c+=4,w(T,c,M[L]),c+=2,w(T,c,1e3),c+=2,T[c]=q.dispose,c++,T[c]=q.blend,c++,A(T,c,F(T,c-30,30)),c+=4);const Q=q.cimg;A(T,c,(W=Q.length)+(L==0?0:4)),c+=4;const G=c;i(T,c,L==0?"IDAT":"fdAT"),c+=4,L!=0&&(A(T,c,Y++),c+=4),T.set(Q,c),c+=W,A(T,c,F(T,G,c-G)),c+=4}return A(T,c,0),c+=4,i(T,c,"IEND"),c+=4,A(T,c,F(T,c-4,4)),c+=4,T.buffer}function y(u,h,C){for(let M=0;M<u.frames.length;M++){const k=u.frames[M];k.rect.width;const F=k.rect.height,A=new Uint8Array(F*k.bpl+F);k.cimg=l(k.img,F,k.bpp,k.bpl,A,h,C)}}function r(u,h,C,M,k){const F=k[0],A=k[1],w=k[2],i=k[3],c=k[4],P=k[5];let S=6,O=8,B=255;for(var W=0;W<u.length;W++){const oe=new Uint8Array(u[W]);for(var z=oe.length,L=0;L<z;L+=4)B&=oe[L+3]}const T=B!=255,$=function(Z,K,ne,ie,ee,de){const te=[];for(var V=0;V<Z.length;V++){const le=new Uint8Array(Z[V]),he=new Uint32Array(le.buffer);var fe;let ue=0,we=0,ye=K,_e=ne,nt=ie?1:0;if(V!=0){const ir=de||ie||V==1||te[V-2].dispose!=0?1:2;let ot=0,ht=1e9;for(let We=0;We<ir;We++){var Ae=new Uint8Array(Z[V-1-We]);const lr=new Uint32Array(Z[V-1-We]);let Ne=K,je=ne,Te=-1,ze=-1;for(let Fe=0;Fe<ne;Fe++)for(let Se=0;Se<K;Se++)he[ae=Fe*K+Se]!=lr[ae]&&(Se<Ne&&(Ne=Se),Se>Te&&(Te=Se),Fe<je&&(je=Fe),Fe>ze&&(ze=Fe));Te==-1&&(Ne=je=Te=ze=0),ee&&((1&Ne)==1&&Ne--,(1&je)==1&&je--);const mt=(Te-Ne+1)*(ze-je+1);mt<ht&&(ht=mt,ot=We,ue=Ne,we=je,ye=Te-Ne+1,_e=ze-je+1)}Ae=new Uint8Array(Z[V-1-ot]),ot==1&&(te[V-1].dispose=2),fe=new Uint8Array(ye*_e*4),g(Ae,K,ne,fe,ye,_e,-ue,-we,0),nt=g(le,K,ne,fe,ye,_e,-ue,-we,3)?1:0,nt==1?n(le,K,ne,fe,{x:ue,y:we,width:ye,height:_e}):g(le,K,ne,fe,ye,_e,-ue,-we,0)}else fe=le.slice(0);te.push({rect:{x:ue,y:we,width:ye,height:_e},img:fe,blend:nt,dispose:0})}if(ie)for(V=0;V<te.length;V++){if((Ee=te[V]).blend==1)continue;const le=Ee.rect,he=te[V-1].rect,ue=Math.min(le.x,he.x),we=Math.min(le.y,he.y),ye={x:ue,y:we,width:Math.max(le.x+le.width,he.x+he.width)-ue,height:Math.max(le.y+le.height,he.y+he.height)-we};te[V-1].dispose=1,V-1!=0&&o(Z,K,ne,te,V-1,ye,ee),o(Z,K,ne,te,V,ye,ee)}let Qe=0;if(Z.length!=1)for(var ae=0;ae<te.length;ae++){var Ee;Qe+=(Ee=te[ae]).rect.width*Ee.rect.height}return te}(u,h,C,F,A,w),Y={},q=[],Q=[];if(M!=0){const oe=[];for(L=0;L<$.length;L++)oe.push($[L].img.buffer);const Z=function(ee){let de=0;for(var te=0;te<ee.length;te++)de+=ee[te].byteLength;const V=new Uint8Array(de);let fe=0;for(te=0;te<ee.length;te++){const Ae=new Uint8Array(ee[te]),Qe=Ae.length;for(let ae=0;ae<Qe;ae+=4){let Ee=Ae[ae],le=Ae[ae+1],he=Ae[ae+2];const ue=Ae[ae+3];ue==0&&(Ee=le=he=0),V[fe+ae]=Ee,V[fe+ae+1]=le,V[fe+ae+2]=he,V[fe+ae+3]=ue}fe+=Qe}return V.buffer}(oe),K=E(Z,M);for(L=0;L<K.plte.length;L++)q.push(K.plte[L].est.rgba);let ne=0;for(L=0;L<$.length;L++){const ie=(J=$[L]).img.length;var G=new Uint8Array(K.inds.buffer,ne>>2,ie>>2);Q.push(G);const ee=new Uint8Array(K.abuf,ne,ie);P&&s(J.img,J.rect.width,J.rect.height,q,ee,G),J.img.set(ee),ne+=ie}}else for(W=0;W<$.length;W++){var J=$[W];const oe=new Uint32Array(J.img.buffer);var re=J.rect.width;for(z=oe.length,G=new Uint8Array(z),Q.push(G),L=0;L<z;L++){const Z=oe[L];if(L!=0&&Z==oe[L-1])G[L]=G[L-1];else if(L>re&&Z==oe[L-re])G[L]=G[L-re];else{let K=Y[Z];if(K==null&&(Y[Z]=K=q.length,q.push(Z),q.length>=300))break;G[L]=K}}}const Me=q.length;for(Me<=256&&c==0&&(O=Me<=2?1:Me<=4?2:Me<=16?4:8,O=Math.max(O,i)),W=0;W<$.length;W++){(J=$[W]).rect.x,J.rect.y,re=J.rect.width;const oe=J.rect.height;let Z=J.img;new Uint32Array(Z.buffer);let K=4*re,ne=4;if(Me<=256&&c==0){K=Math.ceil(O*re/8);var xe=new Uint8Array(K*oe);const ie=Q[W];for(let ee=0;ee<oe;ee++){L=ee*K;const de=ee*re;if(O==8)for(var X=0;X<re;X++)xe[L+X]=ie[de+X];else if(O==4)for(X=0;X<re;X++)xe[L+(X>>1)]|=ie[de+X]<<4-4*(1&X);else if(O==2)for(X=0;X<re;X++)xe[L+(X>>2)]|=ie[de+X]<<6-2*(3&X);else if(O==1)for(X=0;X<re;X++)xe[L+(X>>3)]|=ie[de+X]<<7-1*(7&X)}Z=xe,S=3,ne=1}else if(T==0&&$.length==1){xe=new Uint8Array(re*oe*3);const ie=re*oe;for(L=0;L<ie;L++){const ee=3*L,de=4*L;xe[ee]=Z[de],xe[ee+1]=Z[de+1],xe[ee+2]=Z[de+2]}Z=xe,S=2,ne=3,K=3*re}J.img=Z,J.bpl=K,J.bpp=ne}return{ctype:S,depth:O,plte:q,frames:$}}function o(u,h,C,M,k,F,A){const w=Uint8Array,i=Uint32Array,c=new w(u[k-1]),P=new i(u[k-1]),S=k+1<u.length?new w(u[k+1]):null,O=new w(u[k]),B=new i(O.buffer);let W=h,z=C,L=-1,T=-1;for(let Y=0;Y<F.height;Y++)for(let q=0;q<F.width;q++){const Q=F.x+q,G=F.y+Y,J=G*h+Q,re=B[J];re==0||M[k-1].dispose==0&&P[J]==re&&(S==null||S[4*J+3]!=0)||(Q<W&&(W=Q),Q>L&&(L=Q),G<z&&(z=G),G>T&&(T=G))}L==-1&&(W=z=L=T=0),A&&((1&W)==1&&W--,(1&z)==1&&z--),F={x:W,y:z,width:L-W+1,height:T-z+1};const $=M[k];$.rect=F,$.blend=1,$.img=new Uint8Array(F.width*F.height*4),M[k-1].dispose==0?(g(c,h,C,$.img,F.width,F.height,-F.x,-F.y,0),n(O,h,C,$.img,F)):g(O,h,C,$.img,F.width,F.height,-F.x,-F.y,0)}function n(u,h,C,M,k){g(u,h,C,M,k.width,k.height,-k.x,-k.y,2)}function l(u,h,C,M,k,F,A){const w=[];let i,c=[0,1,2,3,4];F!=-1?c=[F]:(h*M>5e5||C==1)&&(c=[0]),A&&(i={level:0});const P=ln;for(var S=0;S<c.length;S++){for(let W=0;W<h;W++)m(k,u,W,M,C,c[S]);w.push(P.deflate(k,i))}let O,B=1e9;for(S=0;S<w.length;S++)w[S].length<B&&(O=S,B=w[S].length);return w[O]}function m(u,h,C,M,k,F){const A=C*M;let w=A+C;if(u[w]=F,w++,F==0)if(M<500)for(var i=0;i<M;i++)u[w+i]=h[A+i];else u.set(new Uint8Array(h.buffer,A,M),w);else if(F==1){for(i=0;i<k;i++)u[w+i]=h[A+i];for(i=k;i<M;i++)u[w+i]=h[A+i]-h[A+i-k]+256&255}else if(C==0){for(i=0;i<k;i++)u[w+i]=h[A+i];if(F==2)for(i=k;i<M;i++)u[w+i]=h[A+i];if(F==3)for(i=k;i<M;i++)u[w+i]=h[A+i]-(h[A+i-k]>>1)+256&255;if(F==4)for(i=k;i<M;i++)u[w+i]=h[A+i]-N(h[A+i-k],0,0)+256&255}else{if(F==2)for(i=0;i<M;i++)u[w+i]=h[A+i]+256-h[A+i-M]&255;if(F==3){for(i=0;i<k;i++)u[w+i]=h[A+i]+256-(h[A+i-M]>>1)&255;for(i=k;i<M;i++)u[w+i]=h[A+i]+256-(h[A+i-M]+h[A+i-k]>>1)&255}if(F==4){for(i=0;i<k;i++)u[w+i]=h[A+i]+256-N(0,h[A+i-M],0)&255;for(i=k;i<M;i++)u[w+i]=h[A+i]+256-N(h[A+i-k],h[A+i-M],h[A+i-k-M])&255}}}function E(u,h){const C=new Uint8Array(u),M=C.slice(0),k=new Uint32Array(M.buffer),F=U(M,h),A=F[0],w=F[1],i=C.length,c=new Uint8Array(i>>2);let P;if(C.length<2e7)for(var S=0;S<i;S+=4)P=f(A,O=C[S]*(1/255),B=C[S+1]*(1/255),W=C[S+2]*(1/255),z=C[S+3]*(1/255)),c[S>>2]=P.ind,k[S>>2]=P.est.rgba;else for(S=0;S<i;S+=4){var O=C[S]*.00392156862745098,B=C[S+1]*(1/255),W=C[S+2]*(1/255),z=C[S+3]*(1/255);for(P=A;P.left;)P=R(P.est,O,B,W,z)<=0?P.left:P.right;c[S>>2]=P.ind,k[S>>2]=P.est.rgba}return{abuf:M.buffer,inds:c,plte:w}}function U(u,h,C){C==null&&(C=1e-4);const M=new Uint32Array(u.buffer),k={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=I(u,k.i0,k.i1),k.est=v(k.bst);const F=[k];for(;F.length<h;){let w=0,i=0;for(var A=0;A<F.length;A++)F[A].est.L>w&&(w=F[A].est.L,i=A);if(w<C)break;const c=F[i],P=_(u,M,c.i0,c.i1,c.est.e,c.est.eMq255);if(c.i0>=P||c.i1<=P){c.est.L=0;continue}const S={i0:c.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};S.bst=I(u,S.i0,S.i1),S.est=v(S.bst);const O={i0:P,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:c.bst.N-S.bst.N},A=0;A<16;A++)O.bst.R[A]=c.bst.R[A]-S.bst.R[A];for(A=0;A<4;A++)O.bst.m[A]=c.bst.m[A]-S.bst.m[A];O.est=v(O.bst),c.left=S,c.right=O,F[i]=S,F.push(O)}for(F.sort((w,i)=>i.bst.N-w.bst.N),A=0;A<F.length;A++)F[A].ind=A;return[k,F]}function f(u,h,C,M,k){if(u.left==null)return u.tdst=function(S,O,B,W,z){const L=O-S[0],T=B-S[1],$=W-S[2],Y=z-S[3];return L*L+T*T+$*$+Y*Y}(u.est.q,h,C,M,k),u;const F=R(u.est,h,C,M,k);let A=u.left,w=u.right;F>0&&(A=u.right,w=u.left);const i=f(A,h,C,M,k);if(i.tdst<=F*F)return i;const c=f(w,h,C,M,k);return c.tdst<i.tdst?c:i}function R(u,h,C,M,k){const{e:F}=u;return F[0]*h+F[1]*C+F[2]*M+F[3]*k-u.eMq}function _(u,h,C,M,k,F){for(M-=4;C<M;){for(;j(u,C,k)<=F;)C+=4;for(;j(u,M,k)>F;)M-=4;if(C>=M)break;const A=h[C>>2];h[C>>2]=h[M>>2],h[M>>2]=A,C+=4,M-=4}for(;j(u,C,k)>F;)C-=4;return C+4}function j(u,h,C){return u[h]*C[0]+u[h+1]*C[1]+u[h+2]*C[2]+u[h+3]*C[3]}function I(u,h,C){const M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],F=C-h>>2;for(let A=h;A<C;A+=4){const w=u[A]*.00392156862745098,i=u[A+1]*(1/255),c=u[A+2]*(1/255),P=u[A+3]*(1/255);k[0]+=w,k[1]+=i,k[2]+=c,k[3]+=P,M[0]+=w*w,M[1]+=w*i,M[2]+=w*c,M[3]+=w*P,M[5]+=i*i,M[6]+=i*c,M[7]+=i*P,M[10]+=c*c,M[11]+=c*P,M[15]+=P*P}return M[4]=M[1],M[8]=M[2],M[9]=M[6],M[12]=M[3],M[13]=M[7],M[14]=M[11],{R:M,m:k,N:F}}function v(u){const{R:h}=u,{m:C}=u,{N:M}=u,k=C[0],F=C[1],A=C[2],w=C[3],i=M==0?0:1/M,c=[h[0]-k*k*i,h[1]-k*F*i,h[2]-k*A*i,h[3]-k*w*i,h[4]-F*k*i,h[5]-F*F*i,h[6]-F*A*i,h[7]-F*w*i,h[8]-A*k*i,h[9]-A*F*i,h[10]-A*A*i,h[11]-A*w*i,h[12]-w*k*i,h[13]-w*F*i,h[14]-w*A*i,h[15]-w*w*i],P=c,S=D;let O=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,W=0;if(M!=0)for(let L=0;L<16&&(O=S.multVec(P,O),W=Math.sqrt(S.dot(O,O)),O=S.sml(1/W,O),!(L!=0&&Math.abs(W-B)<1e-9));L++)B=W;const z=[k*i,F*i,A*i,w*i];return{Cov:c,q:z,e:O,L:B,eMq255:S.dot(S.sml(255,z),O),eMq:S.dot(O,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var D={multVec:(u,h)=>[u[0]*h[0]+u[1]*h[1]+u[2]*h[2]+u[3]*h[3],u[4]*h[0]+u[5]*h[1]+u[6]*h[2]+u[7]*h[3],u[8]*h[0]+u[9]*h[1]+u[10]*h[2]+u[11]*h[3],u[12]*h[0]+u[13]*h[1]+u[14]*h[2]+u[15]*h[3]],dot:(u,h)=>u[0]*h[0]+u[1]*h[1]+u[2]*h[2]+u[3]*h[3],sml:(u,h)=>[u*h[0],u*h[1],u*h[2],u*h[3]]};pe.encode=function(h,C,M,k,F,A,w){k==null&&(k=0),w==null&&(w=!1);const i=r(h,C,M,k,[!1,!1,!1,0,w,!1]);return y(i,-1),p(i,C,M,F,A)},pe.encodeLL=function(h,C,M,k,F,A,w,i){const c={ctype:0+(k==1?0:2)+(F==0?0:4),depth:A,frames:[]},P=(k+F)*A,S=P*C;for(let O=0;O<h.length;O++)c.frames.push({rect:{x:0,y:0,width:C,height:M},img:new Uint8Array(h[O]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(S/8)});return y(c,0,!0),p(c,C,M,w,i)},pe.encode.compress=r,pe.encode.dither=s,pe.quantize=E,pe.quantize.getKDtree=U,pe.quantize.getNearest=f})();const Zt={toArrayBuffer(g,x){const N=g.width,a=g.height,e=N<<2,t=g.getContext("2d").getImageData(0,0,N,a),d=new Uint32Array(t.data.buffer),s=(32*N+31)/32<<2,p=s*a,y=122+p,r=new ArrayBuffer(y),o=new DataView(r),n=1<<20;let l,m,E,U,f=n,R=0,_=0,j=0;function I(u){o.setUint16(_,u,!0),_+=2}function v(u){o.setUint32(_,u,!0),_+=4}function D(u){_+=u}I(19778),v(y),D(4),v(122),v(108),v(N),v(-a>>>0),I(1),I(32),v(3),v(p),v(2835),v(2835),D(8),v(16711680),v(65280),v(255),v(4278190080),v(1466527264),function u(){for(;R<a&&f>0;){for(U=122+R*s,l=0;l<e;)f--,m=d[j++],E=m>>>24,o.setUint32(U+l,m<<8|E),l+=4;R++}j<d.length?(f=n,setTimeout(u,Zt._dly)):x(r)}()},toBlob(g,x){this.toArrayBuffer(g,N=>{x(new Blob([N],{type:"image/bmp"}))})},_dly:9};var ce={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},cn={[ce.CHROME]:16384,[ce.FIREFOX]:11180,[ce.DESKTOP_SAFARI]:16384,[ce.IE]:8192,[ce.IOS]:4096,[ce.ETC]:8192};const ft=typeof window<"u",Xt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ze=ft&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),dn=(ft||Xt)&&(Ze&&Ze.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Jt=(ft||Xt)&&(Ze&&Ze.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ut(g,x,N=Date.now()){return new Promise(a=>{const e=g.split(","),t=e[0].match(/:(.*?);/)[1],d=globalThis.atob(e[1]);let s=d.length;const p=new Uint8Array(s);for(;s--;)p[s]=d.charCodeAt(s);const y=new Blob([p],{type:t});y.name=x,y.lastModified=N,a(y)})}function er(g){return new Promise((x,N)=>{const a=new Jt;a.onload=()=>x(a.result),a.onerror=e=>N(e),a.readAsDataURL(g)})}function tr(g){return new Promise((x,N)=>{const a=new Image;a.onload=()=>x(a),a.onerror=e=>N(e),a.src=g})}function Re(){if(Re.cachedResult!==void 0)return Re.cachedResult;let g=ce.ETC;const{userAgent:x}=navigator;return/Chrom(e|ium)/i.test(x)?g=ce.CHROME:/iP(ad|od|hone)/i.test(x)&&/WebKit/i.test(x)?g=ce.IOS:/Safari/i.test(x)?g=ce.DESKTOP_SAFARI:/Firefox/i.test(x)?g=ce.FIREFOX:(/MSIE/i.test(x)||document.documentMode)&&(g=ce.IE),Re.cachedResult=g,Re.cachedResult}function rr(g,x){const N=Re(),a=cn[N];let e=g,t=x,d=e*t;const s=e>t?t/e:e/t;for(;d>a*a;){const p=(a+e)/2,y=(a+t)/2;p<y?(t=y,e=y*s):(t=p*s,e=p),d=e*t}return{width:e,height:t}}function rt(g,x){let N,a;try{if(N=new OffscreenCanvas(g,x),a=N.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{N=document.createElement("canvas"),a=N.getContext("2d")}return N.width=g,N.height=x,[N,a]}function nr(g,x){const{width:N,height:a}=rr(g.width,g.height),[e,t]=rt(N,a);return x&&/jpe?g/.test(x)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(g,0,0,e.width,e.height),e}function Ge(){return Ge.cachedResult!==void 0||(Ge.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ge.cachedResult}function Xe(g,x={}){return new Promise(function(N,a){let e,t;var d=function(){try{return t=nr(e,x.fileType||g.type),N([e,t])}catch(p){return a(p)}},s=function(p){try{var y=function(r){try{throw r}catch(o){return a(o)}};try{let r;return er(g).then(function(o){try{return r=o,tr(r).then(function(n){try{return e=n,function(){try{return d()}catch(l){return a(l)}}()}catch(l){return y(l)}},y)}catch(n){return y(n)}},y)}catch(r){y(r)}}catch(r){return a(r)}};try{if(Ge()||[ce.DESKTOP_SAFARI,ce.MOBILE_SAFARI].includes(Re()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(g).then(function(p){try{return e=p,d()}catch{return s()}},s)}catch{s()}})}function Je(g,x,N,a,e=1){return new Promise(function(t,d){let s;if(x==="image/png"){let y,r,o;return y=g.getContext("2d"),{data:r}=y.getImageData(0,0,g.width,g.height),o=pe.encode([r.buffer],g.width,g.height,4096*e),s=new Blob([o],{type:x}),s.name=N,s.lastModified=a,p.call(this)}{let y=function(){return p.call(this)};if(x==="image/bmp")return new Promise(r=>Zt.toBlob(g,r)).then(function(r){try{return s=r,s.name=N,s.lastModified=a,y.call(this)}catch(o){return d(o)}}.bind(this),d);{let r=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&g instanceof OffscreenCanvas)return g.convertToBlob({type:x,quality:e}).then(function(o){try{return s=o,s.name=N,s.lastModified=a,r.call(this)}catch(n){return d(n)}}.bind(this),d);{let o;return o=g.toDataURL(x,e),ut(o,N,a).then(function(n){try{return s=n,r.call(this)}catch(l){return d(l)}}.bind(this),d)}}}function p(){return t(s)}})}function be(g){g.width=0,g.height=0}function Oe(){return new Promise(function(g,x){let N,a,e,t;return Oe.cachedResult!==void 0?g(Oe.cachedResult):ut("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(d){try{return N=d,Xe(N).then(function(s){try{return a=s[1],Je(a,N.type,N.name,N.lastModified).then(function(p){try{return e=p,be(a),Xe(e).then(function(y){try{return t=y[0],Oe.cachedResult=t.width===1&&t.height===2,g(Oe.cachedResult)}catch(r){return x(r)}},x)}catch(y){return x(y)}},x)}catch(p){return x(p)}},x)}catch(s){return x(s)}},x)})}function or(g){return new Promise((x,N)=>{const a=new Jt;a.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return x(-2);const d=t.byteLength;let s=2;for(;s<d;){if(t.getUint16(s+2,!1)<=8)return x(-1);const p=t.getUint16(s,!1);if(s+=2,p==65505){if(t.getUint32(s+=2,!1)!=1165519206)return x(-1);const y=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,y);const r=t.getUint16(s,y);s+=2;for(let o=0;o<r;o++)if(t.getUint16(s+12*o,y)==274)return x(t.getUint16(s+12*o+8,y))}else{if((65280&p)!=65280)break;s+=t.getUint16(s,!1)}}return x(-1)},a.onerror=e=>N(e),a.readAsArrayBuffer(g)})}function ar(g,x){const{width:N}=g,{height:a}=g,{maxWidthOrHeight:e}=x;let t,d=g;return isFinite(e)&&(N>e||a>e)&&([d,t]=rt(N,a),N>a?(d.width=e,d.height=a/N*e):(d.width=N/a*e,d.height=e),t.drawImage(g,0,0,d.width,d.height),be(g)),d}function sr(g,x){const{width:N}=g,{height:a}=g,[e,t]=rt(N,a);switch(x>4&&x<9?(e.width=a,e.height=N):(e.width=N,e.height=a),x){case 2:t.transform(-1,0,0,1,N,0);break;case 3:t.transform(-1,0,0,-1,N,a);break;case 4:t.transform(1,0,0,-1,0,a);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,a,0);break;case 7:t.transform(0,-1,-1,0,a,N);break;case 8:t.transform(0,-1,1,0,0,N)}return t.drawImage(g,0,0,N,a),be(g),e}function Ct(g,x,N=0){return new Promise(function(a,e){let t,d,s,p,y,r,o,n,l,m,E,U,f,R,_,j,I,v,D,u;function h(M=5){if(x.signal&&x.signal.aborted)throw x.signal.reason;t+=M,x.onProgress(Math.min(t,100))}function C(M){if(x.signal&&x.signal.aborted)throw x.signal.reason;t=Math.min(Math.max(M,t),100),x.onProgress(t)}return t=N,d=x.maxIteration||10,s=1024*x.maxSizeMB*1024,h(),Xe(g,x).then(function(M){try{return[,p]=M,h(),y=ar(p,x),h(),new Promise(function(k,F){var A;if(!(A=x.exifOrientation))return or(g).then(function(i){try{return A=i,w.call(this)}catch(c){return F(c)}}.bind(this),F);function w(){return k(A)}return w.call(this)}).then(function(k){try{return r=k,h(),Oe().then(function(F){try{return o=F?y:sr(y,r),h(),n=x.initialQuality||1,l=x.fileType||g.type,Je(o,l,g.name,g.lastModified,n).then(function(A){try{{let i=function(){if(d--&&(_>s||_>f)){let P,S;return P=u?.95*D.width:D.width,S=u?.95*D.height:D.height,[I,v]=rt(P,S),v.drawImage(D,0,0,P,S),n*=l==="image/png"?.85:.95,Je(I,l,g.name,g.lastModified,n).then(function(O){try{return j=O,be(D),D=I,_=j.size,C(Math.min(99,Math.floor((R-_)/(R-s)*100))),i}catch(B){return e(B)}},e)}return[1]},c=function(){return be(D),be(I),be(y),be(o),be(p),C(100),a(j)};if(m=A,h(),E=m.size>s,U=m.size>g.size,!E&&!U)return C(100),a(m);var w;return f=g.size,R=m.size,_=R,D=o,u=!x.alwaysKeepResolution&&E,(w=function(P){for(;P;){if(P.then)return void P.then(w,e);try{if(P.pop){if(P.length)return P.pop()?c.call(this):P;P=i}else P=P.call(this)}catch(S){return e(S)}}}.bind(this))(i)}}catch(i){return e(i)}}.bind(this),e)}catch(A){return e(A)}}.bind(this),e)}catch(F){return e(F)}}.bind(this),e)}catch(k){return e(k)}}.bind(this),e)})}const fn=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let st;function un(g,x){return new Promise((N,a)=>{st||(st=function(d){const s=[];return s.push(d),URL.createObjectURL(new Blob(s))}(fn));const e=new Worker(st);e.addEventListener("message",function(d){if(x.signal&&x.signal.aborted)e.terminate();else if(d.data.progress===void 0){if(d.data.error)return a(new Error(d.data.error)),void e.terminate();N(d.data.file),e.terminate()}else x.onProgress(d.data.progress)}),e.addEventListener("error",a),x.signal&&x.signal.addEventListener("abort",()=>{a(x.signal.reason),e.terminate()}),e.postMessage({file:g,imageCompressionLibUrl:x.libURL,options:{...x,onProgress:void 0,signal:void 0}})})}function se(g,x){return new Promise(function(N,a){let e,t,d,s,p,y;if(e={...x},d=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=l=>{d=l,typeof s=="function"&&s(d)},!(g instanceof Blob||g instanceof dn))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(g.type))return a(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||y)return Ct(g,e).then(function(l){try{return t=l,n.call(this)}catch(m){return a(m)}}.bind(this),a);var r=function(){try{return n.call(this)}catch(l){return a(l)}}.bind(this),o=function(l){try{return Ct(g,e).then(function(m){try{return t=m,r()}catch(E){return a(E)}},a)}catch(m){return a(m)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",un(g,e).then(function(l){try{return t=l,r()}catch{return o()}},o)}catch{o()}function n(){try{t.name=g.name,t.lastModified=g.lastModified}catch{}try{e.preserveExif&&g.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===g.type)&&(t=Yt(g,t))}catch{}return N(t)}})}se.getDataUrlFromFile=er,se.getFilefromDataUrl=ut,se.loadImage=tr,se.drawImageInCanvas=nr,se.drawFileInCanvas=Xe,se.canvasToFile=Je,se.getExifOrientation=or,se.handleMaxWidthOrHeight=ar,se.followExifOrientation=sr,se.cleanupCanvasMemory=be,se.isAutoOrientationInBrowser=Oe,se.approximateBelowMaximumCanvasSizeOfBrowser=rr,se.copyExifWithoutOrientation=Yt,se.getBrowserName=Re,se.version="2.0.2";const hn=["Family","Church","Cooking","Travel","Classmates","Worklife","4H Club"];function mn({onSubmit:g}){const[x,N]=H.useState(""),[a,e]=H.useState(""),[t,d]=H.useState(""),[s,p]=H.useState(""),[y,r]=H.useState(""),[o,n]=H.useState(""),[l,m]=H.useState([]),[E,U]=H.useState(""),[f,R]=H.useState(null),[_,j]=H.useState({}),[I,v]=H.useState(!1),[D,u]=H.useState(""),h=async w=>{const i=w.target.files?.[0];if(i){if(!i.type.startsWith("image/")){j({..._,photo:"Please select an image file"});return}if(console.log(" Original image:",{name:i.name,size:(i.size/1024/1024).toFixed(2)+" MB",type:i.type}),i.size<=800*1024){console.log(" Image is small enough, no compression needed");const c=new FileReader;c.onloadend=()=>{U(c.result)},c.readAsDataURL(i),R(i),j({..._,photo:""});return}try{u("Compressing image...");const c={maxSizeMB:.75,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg"};console.log(" Compressing image...");const P=await se(i,c);console.log(" Compressed image:",{name:P.name,size:(P.size/1024/1024).toFixed(2)+" MB",type:P.type,reduction:((1-P.size/i.size)*100).toFixed(1)+"%"});const S=new FileReader;S.onloadend=()=>{U(S.result)},S.readAsDataURL(P),R(P),j({..._,photo:""}),u("")}catch(c){console.error(" Compression error:",c),j({..._,photo:"Failed to process image"}),u("")}}},C=w=>{const i=w.target.files?.[0];if(i){if(i.size>10*1024*1024){j({..._,video:"Video must be less than 10MB. Please compress your video first."});return}console.log(" Video selected:",{name:i.name,size:(i.size/1024/1024).toFixed(2)+" MB",type:i.type}),R(i),j({..._,video:""})}},M=w=>{m(i=>i.includes(w)?i.filter(c=>c!==w):[...i,w])},k=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),F=()=>{const w={};return x.trim()||(w.headline="Headline is required"),a.trim()||(w.name="Name is required"),t.trim()?k(t)||(w.email="Please enter a valid email address"):w.email="Email is required",s.trim()||(w.memory="Memory is required"),j(w),Object.keys(w).length===0},A=async w=>{if(w.preventDefault(),!!F()){v(!0),j({});try{const i=new FormData;i.append("headline",x.trim()),i.append("name",a.trim()),i.append("email",t.trim()),i.append("memory",s.trim()),y.trim()&&i.append("memoryDate",y.trim()),o.trim()&&i.append("location",o.trim()),i.append("tags",JSON.stringify(l)),f&&(console.log(" Uploading file:",{name:f.name,size:(f.size/1024/1024).toFixed(2)+" MB",type:f.type}),i.append("media",f)),await g(i),N(""),e(""),d(""),p(""),r(""),n(""),m([]),R(null),U("")}catch(i){console.error(" Submit error:",i),j({submit:i instanceof Error?i.message:"Failed to submit memory"})}finally{v(!1)}}};return b.jsx("form",{onSubmit:A,className:"w-full",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"headline",className:"text-sm font-medium",children:"Headline *"}),b.jsx(Ue,{id:"headline",value:x,onChange:w=>N(w.target.value),placeholder:"Give your memory a memorable title",className:_.headline?"border-destructive":"",disabled:I}),_.headline&&b.jsx("p",{className:"text-xs text-destructive",children:_.headline})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"name",className:"text-sm font-medium",children:"Your Name *"}),b.jsx(Ue,{id:"name",value:a,onChange:w=>e(w.target.value),placeholder:"Enter your name",className:_.name?"border-destructive":"",disabled:I}),_.name&&b.jsx("p",{className:"text-xs text-destructive",children:_.name})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"email",className:"text-sm font-medium",children:"Your Email *"}),b.jsx(Ue,{id:"email",type:"email",value:t,onChange:w=>d(w.target.value),placeholder:"your.email@example.com",className:_.email?"border-destructive":"",disabled:I}),_.email&&b.jsx("p",{className:"text-xs text-destructive",children:_.email})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"memoryDate",className:"text-sm font-medium",children:"When (Optional)"}),b.jsx(Ue,{id:"memoryDate",value:y,onChange:w=>r(w.target.value),placeholder:"e.g., June 2015",disabled:I})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"memoryLocation",className:"text-sm font-medium",children:"Where (Optional)"}),b.jsx(Ue,{id:"memoryLocation",value:o,onChange:w=>n(w.target.value),placeholder:"e.g., Grandma's house",disabled:I})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(me,{className:"text-sm font-medium",children:"Upload Media (Optional)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"photo",className:"cursor-pointer block",children:b.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 hover:border-primary transition-colors text-center min-h-[160px] flex items-center justify-center",children:E&&f?.type.startsWith("image/")?b.jsxs("div",{className:"relative w-full",children:[b.jsx("img",{src:E,alt:"Preview",className:"w-full h-36 object-cover rounded"}),!I&&b.jsx(ge,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-7 w-7",onClick:w=>{w.preventDefault(),w.stopPropagation(),R(null),U("")},children:b.jsx(Ke,{className:"h-4 w-4"})})]}):b.jsxs("div",{className:"py-3",children:[b.jsx(bt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),b.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Upload Photo"}),b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-compressed for upload"})]})})}),b.jsx(Ue,{id:"photo",type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:I}),D&&b.jsx("p",{className:"text-xs text-muted-foreground text-center",children:D})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"video",className:"cursor-pointer block",children:b.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 hover:border-primary transition-colors text-center min-h-[160px] flex items-center justify-center",children:f?.type.startsWith("video/")?b.jsxs("div",{className:"relative w-full",children:[b.jsx("div",{className:"w-full h-36 flex items-center justify-center bg-muted rounded",children:b.jsx("div",{className:"text-center px-3",children:b.jsx("p",{className:"text-sm font-medium text-muted-foreground break-all",children:f.name})})}),!I&&b.jsx(ge,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-7 w-7",onClick:w=>{w.preventDefault(),w.stopPropagation(),R(null)},children:b.jsx(Ke,{className:"h-4 w-4"})})]}):b.jsxs("div",{className:"py-3",children:[b.jsx(bt,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),b.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Upload Video"}),b.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max 10MB"})]})})}),b.jsx(Ue,{id:"video",type:"file",accept:"video/*",onChange:C,className:"hidden",disabled:I})]})]}),_.photo&&b.jsx("p",{className:"text-xs text-destructive",children:_.photo}),_.video&&b.jsx("p",{className:"text-xs text-destructive",children:_.video})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx(me,{htmlFor:"memory",className:"text-sm font-medium",children:"Your Memory *"}),b.jsx(br,{id:"memory",value:s,onChange:w=>p(w.target.value),placeholder:"Share your memory and story here...",rows:12,className:_.memory?"border-destructive":"",disabled:I}),_.memory&&b.jsx("p",{className:"text-xs text-destructive",children:_.memory})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx(me,{className:"text-sm font-medium",children:"Tags (Optional)"}),b.jsx("div",{className:"flex flex-wrap gap-3",children:hn.map(w=>b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(nn,{id:w,checked:l.includes(w),onCheckedChange:()=>M(w),disabled:I}),b.jsx(me,{htmlFor:w,className:"text-sm font-normal cursor-pointer",children:w})]},w))})]}),_.submit&&b.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive rounded-md",children:b.jsx("p",{className:"text-xs text-destructive",children:_.submit})}),I&&b.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-muted rounded-md",children:[b.jsx(yt,{className:"h-4 w-4 animate-spin"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading memory..."})]}),b.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:b.jsx(ge,{type:"submit",disabled:I,className:"w-full sm:w-auto min-w-[120px]",children:I?b.jsxs(b.Fragment,{children:[b.jsx(yt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):"Share Memory"})})]})})}function Nn(){const[g,x]=H.useState([]),[N,a]=H.useState(null),[e,t]=H.useState(new Set),[d,s]=H.useState(!1),[p,y]=H.useState(""),[r,o]=H.useState(null),n=Array.from(new Set(g.flatMap(f=>f.tags))).sort();H.useEffect(()=>{if(l(),typeof window<"u"){const f=localStorage.getItem("likedMemories");if(f)try{t(new Set(JSON.parse(f)))}catch(R){console.error("Failed to parse liked memories:",R)}}},[]);const l=async()=>{console.log(" [MemoryWall] Fetching memories..."),y("");try{const f=await fetch(`${Pe}/api/memories`);if(console.log(" [MemoryWall] Response status:",f.status),!f.ok){const j=await f.json().catch(()=>null);throw new Error(j?.details||j?.error||`Failed to fetch memories: ${f.status}`)}const R=await f.json();console.log(" [MemoryWall] Raw data received:",R.length,"items");const _=R.map(j=>{const I=j.mediaType==="photo"&&j.mediaKey?`${Pe}/api/media/${j.mediaKey}`:void 0,v=j.mediaType==="video"&&j.mediaKey?`${Pe}/api/media/${j.mediaKey}`:void 0;return console.log(` [MemoryWall] Memory ${j.id}:`,{headline:j.headline,mediaType:j.mediaType,mediaKey:j.mediaKey,photoUrl:I,videoUrl:v}),{id:j.id,headline:j.headline,name:j.name,email:j.email,photo:I,video:v,memory:j.memory,memoryDate:j.memoryDate,memoryLocation:j.location,tags:j.tags,likes:j.likes,createdAt:j.createdAt}});console.log(" [MemoryWall] Formatted memories:",_.length,"items"),x(Array.isArray(_)?_:[])}catch(f){console.error(" [MemoryWall] Failed to fetch memories:",f),y(f instanceof Error?f.message:"Failed to load memories")}},m=async f=>{try{const R=await fetch(`${Pe}/api/memories/${f}/like`,{method:"POST"});if(!R.ok)throw new Error("Failed to like memory");const _=await R.json();x(j=>j.map(I=>I.id===f?{...I,likes:_.likes}:I)),t(j=>{const I=new Set(j);return I.add(f),typeof window<"u"&&localStorage.setItem("likedMemories",JSON.stringify(Array.from(I))),I}),N?.id===f&&a({...N,likes:_.likes})}catch(R){console.error("Failed to like memory:",R)}},E=async f=>{console.log(" [MemoryWall] Submitting new memory..."),console.log(" [MemoryWall] FormData keys:",Array.from(f.keys())),console.log(" [MemoryWall] Target URL:",`${Pe}/api/memories`);try{const R=await fetch(`${Pe}/api/memories`,{method:"POST",body:f});console.log(" [MemoryWall] Submit response status:",R.status),console.log(" [MemoryWall] Submit response headers:",Object.fromEntries(R.headers.entries()));const _=await R.text();if(console.log(" [MemoryWall] Raw response:",_.substring(0,500)),!R.ok){let j=null;try{j=JSON.parse(_)}catch{throw console.error(" [MemoryWall] Failed to parse error response as JSON"),new Error(`Server error (${R.status}): ${_.substring(0,200)}`)}const I=j?.details||j?.error||`Failed to submit memory (${R.status})`;throw console.error(" [MemoryWall] Server error:",I),new Error(I)}console.log(" [MemoryWall] Memory submitted successfully"),await l(),s(!1)}catch(R){throw console.error(" [MemoryWall] Failed to submit memory:",R),console.error(" [MemoryWall] Error type:",R?.constructor?.name),console.error(" [MemoryWall] Error details:",{message:R instanceof Error?R.message:String(R),stack:R instanceof Error?R.stack:void 0}),R}},U=r?g.filter(f=>f.tags.includes(r)):g;return b.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-4xl font-heading font-bold mb-4",children:"Memory Wall"}),b.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Share your cherished memories, photos, and stories"}),b.jsx(ge,{onClick:()=>s(!0),size:"lg",className:"font-button",children:"Add Your Memory"})]}),p&&b.jsxs("div",{className:"max-w-2xl mx-auto mb-8 p-4 bg-destructive/10 border border-destructive rounded-md",children:[b.jsx("p",{className:"text-sm text-destructive",children:p}),b.jsx(ge,{variant:"outline",size:"sm",onClick:l,className:"mt-2",children:"Try Again"})]}),n.length>0&&b.jsxs("div",{className:"mb-8 flex flex-wrap gap-2 justify-center",children:[b.jsx(ge,{variant:r===null?"default":"outline",size:"sm",onClick:()=>o(null),children:"All"}),n.map(f=>b.jsxs(ge,{variant:r===f?"default":"outline",size:"sm",onClick:()=>o(f),children:[b.jsx(Er,{className:"w-3 h-3 mr-1"}),f]},f))]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(f=>{const R=f.photo||f.video;return b.jsxs(wr,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[b.jsxs("div",{className:"relative aspect-square bg-muted cursor-pointer",onClick:()=>a(f),children:[f.photo&&b.jsx("img",{src:f.photo,alt:f.headline,className:"w-full h-full object-cover"}),f.video&&b.jsxs("div",{className:"relative w-full h-full",children:[b.jsx("video",{src:f.video,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:b.jsx("div",{className:"w-16 h-16 rounded-full bg-white/90 flex items-center justify-center",children:b.jsx("div",{className:"w-0 h-0 border-l-8 border-t-4 border-b-4 border-l-primary border-t-transparent border-b-transparent ml-1"})})})]}),!R&&b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("p",{className:"text-muted-foreground text-sm",children:"No media"})})]}),b.jsxs(Ar,{children:[b.jsx("h3",{className:"font-heading font-semibold text-xl",children:f.headline}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",f.name]})]}),b.jsxs(Nr,{children:[b.jsx("p",{className:"text-sm line-clamp-3",children:f.memory}),(f.memoryDate||f.memoryLocation)&&b.jsxs("div",{className:"mt-3 space-y-1",children:[f.memoryDate&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(xt,{className:"w-3 h-3"}),f.memoryDate]}),f.memoryLocation&&b.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[b.jsx(gt,{className:"w-3 h-3"}),f.memoryLocation]})]}),f.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:f.tags.map(_=>b.jsx("span",{className:"text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded-full",children:_},_))})]}),b.jsxs(jr,{className:"flex justify-between items-center",children:[b.jsxs(ge,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),m(f.id)},disabled:e.has(f.id),className:"gap-2",children:[b.jsx(vt,{className:`w-4 h-4 ${e.has(f.id)?"fill-red-500 text-red-500":""}`}),f.likes]}),b.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>a(f),children:"Read More"})]})]},f.id)})}),U.length===0&&!p&&b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-muted-foreground",children:r?`No memories found with tag "${r}"`:"No memories yet. Be the first to share!"})}),b.jsx(wt,{open:!!N,onOpenChange:f=>!f&&a(null),children:b.jsx(At,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:N&&b.jsxs(b.Fragment,{children:[b.jsx(Nt,{children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx(jt,{className:"text-2xl font-heading mb-2",children:N.headline}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",N.name]})]}),b.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>a(null),className:"flex-shrink-0",children:b.jsx(Ke,{className:"h-4 w-4"})})]})}),b.jsxs("div",{className:"space-y-4",children:[N.photo&&b.jsx("img",{src:N.photo,alt:N.headline,className:"w-full rounded-lg"}),N.video&&b.jsx("video",{src:N.video,controls:!0,className:"w-full rounded-lg"}),(N.memoryDate||N.memoryLocation)&&b.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[N.memoryDate&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(xt,{className:"w-4 h-4"}),N.memoryDate]}),N.memoryLocation&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(gt,{className:"w-4 h-4"}),N.memoryLocation]})]}),b.jsx("div",{className:"prose prose-sm max-w-none",children:b.jsx("p",{className:"whitespace-pre-wrap",children:N.memory})}),N.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2",children:N.tags.map(f=>b.jsx("span",{className:"text-sm px-3 py-1 bg-secondary text-secondary-foreground rounded-full",children:f},f))}),b.jsx("div",{className:"flex items-center justify-between pt-4 border-t",children:b.jsxs(ge,{variant:"ghost",onClick:()=>m(N.id),disabled:e.has(N.id),className:"gap-2",children:[b.jsx(vt,{className:`w-5 h-5 ${e.has(N.id)?"fill-red-500 text-red-500":""}`}),N.likes," ",N.likes===1?"Like":"Likes"]})})]})]})})}),b.jsx(wt,{open:d,onOpenChange:s,children:b.jsxs(At,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[b.jsx(Nt,{children:b.jsx(jt,{className:"text-2xl font-heading",children:"Share Your Memory"})}),b.jsx(mn,{onSubmit:E})]})})]})})}export{Nn as MemoryWall};
